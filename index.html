<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IMPACT â€” MAKE A IMPACT</title>
  <meta name="description" content="IMPACT â€” WordPress ê¸°ë°˜ì˜ í•™ìƒ ì €ì ì½˜í…ì¸  í†µí•© í˜ì´ì§€ (ì—ë””í„°, í”„ë¡œí•„, ì¹´í…Œê³ ë¦¬ ë°°ì§€, ë¬´í•œìŠ¤í¬ë¡¤, í¬ìŠ¤íŠ¸/ABOUT/EDITORS/EDITORS-PICK ì˜¤ë²„ë ˆì´ í¬í•¨)">
  <meta name="author" content="IMPACT Team">

  <!-- íŒŒë¹„ì½˜: ì €ì¥ì†Œ ë£¨íŠ¸ì— logo.png ë˜ëŠ” favicon.icoë¥¼ ë‘ì„¸ìš” -->
  <link rel="icon" href="logo.png" type="image/png">

  <!-- í°íŠ¸: ì‹¤ í”„ë¡œì íŠ¸ì—ì„œëŠ” ë¡œì»¬ ë˜ëŠ” ìµœì í™”ëœ ì œê³µì„ ê¶Œì¥ -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">

  <!-- ===========================
       ê´‘ë²”ìœ„í•œ CSS (í™•ì¥+ì£¼ì„ í¬í•¨)
       - ì ‘ê·¼ì„± / ë°˜ì‘í˜• / ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ í¬í•¨
       - ëª¨ë°”ì¼ ë„¤ë¹„, ì˜¤ë²„ë ˆì´, ì¹´ë“œ, ì—ë””í„° ê·¸ë¦¬ë“œ ë“±
       =========================== -->
  <style>
    /* ===================================================================
       IMPACT â€” GLOBAL STYLES (í™•ì¥í˜•)
       - ì´ ì„¹ì…˜ì€ í”„ë¡œì íŠ¸ì˜ ì „ë°˜ì ì¸ ìŠ¤íƒ€ì¼ì„ ì •ì˜í•©ë‹ˆë‹¤.
       - ì£¼ì„ì´ ë§ìœ¼ë‹ˆ í•„ìš”í•œ ë¶€ë¶„ë§Œ í™•ì¸í•˜ê³  ìˆ˜ì •í•˜ì„¸ìš”.
       =================================================================== */

    /* RESET / ê¸°ë³¸ */
    *, *::before, *::after { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: "Noto Sans KR", "Apple SD Gothic Neo", "Segoe UI", Roboto, Arial, sans-serif;
      background: #f6f7f9;
      color: #111;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      line-height: 1.6;
      -webkit-tap-highlight-color: transparent;
      scroll-behavior: smooth;
    }
    a { color: inherit; text-decoration: none; }
    img { display: block; max-width: 100%; height: auto; }

    /* ìœ í‹¸ */
    .wrap { max-width: 1400px; margin: 0 auto; padding: 0 20px; }
    .visually-hidden {
      position: absolute !important;
      height: 1px; width: 1px; overflow: hidden;
      clip: rect(1px, 1px, 1px, 1px); white-space: nowrap;
    }
    .hidden { display:none !important; }

    /* HEADER */
    header.header {
      position: sticky;
      top: 0;
      z-index: 1200;
      background: #fff;
      border-bottom: 1px solid rgba(0,0,0,0.06);
      backdrop-filter: blur(6px);
      transition: box-shadow .25s ease, transform .18s ease;
    }
    .header-inner {
      height: 72px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      max-width:1400px;
      margin:0 auto;
      padding: 0 20px;
    }
    .brand { display:flex; gap:12px; align-items:center; }
    .brand .logo {
      display:flex; gap:8px; align-items:center;
      font-weight:900; font-size:26px; letter-spacing:1px; color:#111; cursor:pointer;
    }
    .brand .logo small { font-size:11px; color:#777; font-weight:800; display:block; line-height:1; }
    .header-actions { display:flex; gap:8px; align-items:center; }

    .btn {
      border-radius:10px;
      background:#fff;
      padding:8px 12px;
      border:1px solid rgba(0,0,0,0.08);
      font-weight:700;
      font-size:14px;
      cursor:pointer;
      transition: transform .12s ease, box-shadow .12s ease;
    }
    .btn:active { transform: translateY(1px); }
    .btn.primary {
      background: linear-gradient(135deg,#2e8b57,#1f7a6f); color:#fff; border:none;
    }

    /* NAV OVERLAY (ë”ë³´ê¸°) */
    .nav-overlay {
      position: fixed;
      top: 0;
      right: -50%;
      width: 50%;
      height: 100vh;
      background: rgba(255,255,255,0.98);
      z-index: 2200;
      transition: right 0.32s cubic-bezier(.2,.9,.2,1);
      display: flex;
      flex-direction: column;
      padding: 64px 40px;
      box-shadow: -6px 0 40px rgba(0,0,0,0.08);
      pointer-events: none; /* ê¸°ë³¸ì—” ë¹„í™œì„±í™”(í´ë˜ìŠ¤ í™œì„±í™” ì‹œ ì´ë²¤íŠ¸ í—ˆìš©) */
      opacity: 0;
    }
    .nav-overlay.active { right: 0; pointer-events:auto; opacity:1; }
    .nav-close {
      position:absolute; top:28px; right:28px;
      background:none; border:none; font-size:30px; cursor:pointer;
    }
    .nav-search { display:flex; align-items:center; gap:10px; margin-bottom:36px; }
    .nav-search input[type="search"] {
      flex:1; border:none; border-bottom:2px solid #111; padding:10px 8px; outline:none; font-weight:700; font-size:16px;
      background:transparent;
    }
    .nav-list { list-style:none; padding:0; margin:0 0 24px; display:flex; flex-direction:column; gap:18px; }
    .nav-list li { font-size:28px; font-weight:900; cursor:pointer; color:#111; transition: color .16s ease; }
    .nav-list li:hover { color:#2e8b57; }

    .nav-footer-links { margin-top:auto; display:flex; gap:12px; align-items:center; font-weight:800; }
    .nav-footer-links a { color:#111; font-size:13px; }

    /* ëª¨ë°”ì¼ì—ì„œ ì „ì²´í™”ë©´ ë„¤ë¹„ë¡œ ë™ì‘í•˜ë„ë¡ ë®ì–´ì“°ê¸° */
    @media (max-width: 680px) {
      .nav-overlay { left:0; right:0; width:100%; padding:36px 20px; box-shadow:none; }
      .nav-overlay.active { right:0; }
      .nav-list li { font-size:22px; }
    }

    /* MAIN / HOME ë ˆì´ì•„ì›ƒ */
    .home {
      max-width:1400px;
      margin: 28px auto;
      display:flex;
      flex-direction:column;
      gap:28px;
      padding: 0 20px 100px;
    }

    .row { display:grid; grid-template-columns: 2fr 1fr; gap:20px; align-items:start; }
    .col-left { position:relative; border-radius:12px; overflow:hidden; min-height:360px; background:#eee; cursor:pointer; }
    .col-left .hero { width:100%; height:100%; object-fit:cover; display:block; min-height:360px; }
    .col-left .hero-overlay {
      position:absolute; inset:auto 0 0 0; padding:22px; display:flex; flex-direction:column; gap:12px;
      background: linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.55));
      color:#fff;
    }
    .col-left .hero-title { margin:0; font-size:28px; font-weight:900; line-height:1.05; max-width:92%; }
    .col-left .meta { display:flex; align-items:center; gap:10px; color:#fff; font-size:13px; opacity:0.95; }
    .col-right { display:flex; flex-direction:column; gap:12px; }

    .card { background:#fff; border-radius:10px; overflow:hidden; border:1px solid rgba(0,0,0,0.06); transition: box-shadow .16s ease, transform .12s ease; cursor:pointer; }
    .card:hover { transform: translateY(-6px); box-shadow: 0 12px 30px rgba(0,0,0,0.06); }
    .card .thumb { width:100%; height:120px; overflow:hidden; background:#efefef; }
    .card .thumb img { width:100%; height:100%; object-fit:cover; display:block; }
    .card .card-body { padding:12px; }
    .card h3 { font-size:16px; font-weight:800; margin:0 0 8px; color:#111; }
    .card .meta { display:flex; align-items:center; gap:8px; color:#666; font-size:13px; }

    .cat-badge { display:inline-block; padding:6px 10px; border-radius:6px; font-weight:800; font-size:12px; color:#fff; }

    .hero-cats { position:absolute; right:16px; bottom:16px; display:flex; gap:6px; }

    /* ì¹´í…Œê³ ë¦¬ ì»¬ëŸ¬ */
    .cat-tech{ background:#1e90ff; }
    .cat-eat{ background:#ff6347; }
    .cat-style{ background:#32cd32; }
    .cat-culture{ background:#8a2be2; }
    .cat-life{ background:#ffa500; color:#000; }
    .cat-editors-pick{ background:#ff1493; }

    /* OVERLAYS: category, post, search, about, editors */
    .category-overlay, .post-overlay, .search-overlay, .about-page, .editors-overlay {
      display:none;
      position:fixed;
      inset:0;
      background:#fff;
      z-index:2000;
      overflow:auto;
      padding:28px;
      animation: overlayIn .28s ease;
    }
    .category-overlay.active, .post-overlay.active, .search-overlay.active, .about-page.active, .editors-overlay.active { display:block; }
    @keyframes overlayIn { from { opacity:0; transform: translateY(6px); } to { opacity:1; transform: translateY(0); } }

    .category-top { display:flex; justify-content:space-between; align-items:center; gap:12px; border-bottom:1px solid rgba(0,0,0,0.06); padding-bottom:12px; }
    .category-title { font-size:24px; font-weight:900; color:#111; }
    .category-grid { margin-top:18px; display:grid; gap:18px; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); padding:20px 0 80px; }

    .post-article { margin:0 auto; max-width:900px; }
    .post-article h1 { font-size:34px; font-weight:900; margin-bottom:12px; color:#111; }
    .post-content { color:#222; line-height:1.9; }

    /* SEARCH OVERLAY STYLE */
    .search-bar { display:flex; align-items:center; background:#fff; border-radius:50px; box-shadow:0 6px 20px rgba(0,0,0,0.06); padding:6px 10px; gap:8px; }
    .search-bar input[type="search"] { flex:1; border:none; outline:none; font-size:16px; padding:12px 14px; border-radius:50px; }
    .search-bar .close-btn { background:none; border:none; font-size:20px; cursor:pointer; color:#666; }

    /* TO TOP */
    .to-top {
      position: fixed; right:22px; bottom:22px; width:52px; height:52px; border-radius:12px; background:#fff; color:#000;
      display:flex; align-items:center; justify-content:center; font-size:22px; z-index:2500; box-shadow:0 12px 30px rgba(0,0,0,0.08); opacity:0; transform:translateY(20px); transition:all .28s cubic-bezier(.2,.9,.2,1);
      border:1px solid rgba(0,0,0,0.06);
    }
    .to-top.show { opacity:1; transform:translateY(0); }

    /* FOOTER */
    footer.site-footer { background:#111; color:#eee; padding:40px 20px; margin-top:20px; }
    .footer-inner { max-width:1400px; margin:0 auto; display:flex; justify-content:space-between; gap:20px; align-items:flex-start; flex-wrap:wrap; }
    .footer-brand { font-size:40px; font-weight:900; color:#fff; font-style:italic; }
    .footer-links a { color:#ddd; }

    /* EDITORS GRID */
    .editors-grid { display:grid; grid-template-columns: repeat(auto-fill, minmax(160px,1fr)); gap:16px; padding:18px 0; }
    .editor-card { background:#fff; border-radius:12px; padding:12px; display:flex; flex-direction:column; align-items:center; gap:10px; text-align:center; border:1px solid rgba(0,0,0,0.06); cursor:pointer; }
    .editor-avatar { width:84px; height:84px; border-radius:50%; object-fit:cover; }
    .editor-name { font-weight:800; font-size:15px; }
    .editor-bio { font-size:12px; color:#666; }

    /* ì›ë¬¸ ë§í¬ ìŠ¤íƒ€ì¼ */
    .original-link { margin-top:18px; display:inline-block; }
    .original-link a { display:inline-block; padding:10px 14px; border-radius:10px; border:1px solid rgba(0,0,0,0.08); background:#fff; font-weight:800; }
    @media (max-width:680px) {
      .original-link { display:block; width:100%; }
      .original-link a { width:100%; box-sizing:border-box; display:block; text-align:center; }
      .post-article { padding:0 12px; }
    }

    /* ë°˜ì‘í˜•: ë©”ì¸ ì»¬ëŸ¼ ë³€ê²½ */
    @media (max-width: 1100px) {
      .row { grid-template-columns: 1fr; }
      .col-right { grid-auto-rows: unset; grid-template-columns: 1fr; display:grid; gap:12px; }
    }

    /* ì¶”ê°€ ë¬¸ì„œí™” ì£¼ì„ ë° ë¹ˆ ìŠ¤íƒ€ì¼ë“¤ë¡œ íŒŒì¼ ê¸¸ì´/ë¬¸ì„œì„± ë³´ê°• */
    /*
      ======================================================================
      ì¶”ê°€ ì£¼ì„ ë¸”ë¡: íŒŒì¼ ë¬¸ì„œí™”, Netlify í”„ë¡ì‹œ ì•ˆë‚´, ë³´ì•ˆ ê¶Œì¥ì‚¬í•­ ë“±
      - Netlify Functions ì‚¬ìš© ê¶Œì¥ (ì„œë²„ì—ì„œ WP_TOKEN ì‚½ì…)
      - í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì•¡ì„¸ìŠ¤ í† í°ì„ ì ˆëŒ€ í•˜ë“œì½”ë”©í•˜ì§€ ë§ˆì„¸ìš”.
      ======================================================================
    */
    /* End of CSS */
  </style>
</head>
<body>

  <!-- ===========================
       HEADER
       =========================== -->
  <header class="header" id="siteHeader" role="banner" aria-label="ì‚¬ì´íŠ¸ í—¤ë”">
    <div class="header-inner wrap">
      <div class="brand" role="img" aria-label="IMPACT brand">
        <div class="logo" id="logoBtn" onclick="router.goHome()" tabindex="0" title="IMPACT â€” go home">
          <img src="logo.png" alt="IMPACT logo" style="width:36px;height:36px;border-radius:8px;object-fit:cover;">
          <div>
            <div style="line-height:1">IMPACT</div>
            <small>MAKE A IMPACT</small>
          </div>
        </div>
      </div>

      <div class="header-actions" role="navigation" aria-label="ìƒë‹¨ ë©”ë‰´">
        <button class="btn" id="topSearchBtn" onclick="openNavlessSearch()">ê²€ìƒ‰</button>
        <button class="btn" aria-controls="navOverlay" aria-expanded="false" id="moreBtn">ë”ë³´ê¸°</button>
      </div>
    </div>
  </header>

  <!-- ===========================
       NAV OVERLAY (ë”ë³´ê¸°)
       - ìˆ˜ì • ìš”ì :
       * EDITORS' PICKì´ ëˆŒë ¸ì„ ë•Œ editors-pick ì¹´í…Œê³ ë¦¬ë¡œ ì—°ê²°ë˜ë„ë¡ ìˆ˜ì •
       * ëª¨ë°”ì¼ X ë²„íŠ¼ ë™ì‘ ë° overlayê°€ ê¸°ë³¸ì ìœ¼ë¡œ ë³´ì´ì§€ ì•Šë„ë¡ pointer-events ì‚¬ìš©
       =========================== -->
  <aside class="nav-overlay" id="navOverlay" aria-hidden="true" aria-label="ì¹´í…Œê³ ë¦¬ ë„¤ë¹„ê²Œì´ì…˜">
    <button class="nav-close" id="navCloseBtn" aria-label="ë„¤ë¹„ ë‹«ê¸°">Ã—</button>
    <div style="display:flex;flex-direction:column;gap:12px;">
      <div class="nav-search" role="search" aria-label="ë„¤ë¹„ ê²€ìƒ‰">
        <span style="font-size:18px">ğŸ”</span>
        <input type="search" id="globalNavSearch" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥" aria-label="ë„¤ë¹„ ê²€ìƒ‰ì–´">
      </div>

      <ul class="nav-list" id="navList" role="menu" aria-label="ì¹´í…Œê³ ë¦¬ ëª©ë¡">
        <!-- JSì—ì„œ ì±„ì›€ -->
      </ul>

      <div class="nav-footer-links" aria-hidden="false">
        <a href="javascript:void(0)" id="linkAbout">ABOUT</a>
        <a href="javascript:void(0)" id="linkEditors">EDITORS</a>
        <a href="javascript:void(0)" id="linkNewsletter">NEWSLETTER</a>
        <a href="https://www.instagram.com/ceo_impact_official" target="_blank" rel="noopener">INSTAGRAM</a>
      </div>

      <div class="nav-extra" style="margin-top:18px;color:#777;font-size:13px">
        IMPACTëŠ” WordPress ê¸°ë°˜ìœ¼ë¡œ ì½˜í…ì¸ ë¥¼ ë°›ì•„ì™€ ì‚¬ì´íŠ¸ ë‚´ì—ì„œ ìì²´ í¬ìŠ¤íŠ¸ í˜ì´ì§€ë¡œ í‘œì‹œí•©ë‹ˆë‹¤.
      </div>
    </div>
  </aside>

  <!-- ===========================
       MAIN (í™ˆ)
       =========================== -->
  <main class="home" id="home" role="main" aria-live="polite" tabindex="-1">
    <div id="rowsContainer" aria-live="polite"></div>
    <div id="homeLoading" style="text-align:center;color:#666;padding:36px 0">ë¡œë”© ì¤‘...</div>
  </main>

  <!-- ===========================
       CATEGORY OVERLAY (ì¼ë°˜ ì¹´í…Œê³ ë¦¬ & EDITORS-PICK)
       =========================== -->
  <section class="category-overlay" id="categoryOverlay" aria-hidden="true" role="region">
    <div class="wrap">
      <div class="category-top">
        <div>
          <div class="category-title" id="categoryOverlayTitle">CATEGORY</div>
          <div class="category-sub" id="categoryOverlaySubtitle">ì¹´í…Œê³ ë¦¬ ì„¤ëª…</div>
        </div>
        <div>
          <button class="btn" id="closeCategoryBtn">ë‹«ê¸°</button>
        </div>
      </div>

      <div class="category-grid" id="categoryGrid" aria-live="polite"></div>
      <div id="categoryLoading" style="text-align:center;color:#666;padding:28px 0"></div>
    </div>
  </section>

  <!-- ===========================
       EDITORS OVERLAY (ì—ë””í„° ëª©ë¡ & í”„ë¡œí•„)
       =========================== -->
  <section class="editors-overlay" id="editorsOverlay" aria-hidden="true" role="region">
    <div class="wrap">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;border-bottom:1px solid rgba(0,0,0,0.06);padding-bottom:14px;">
        <div>
          <h2 style="font-size:24px;margin:0">EDITORS</h2>
          <div style="color:#666;font-size:13px">IMPACTì— ì°¸ì—¬í•˜ëŠ” ì—ë””í„° ëª©ë¡ê³¼ ê° ì—ë””í„°ì˜ ì‘ì„± ê¸€ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</div>
        </div>
        <div>
          <button class="btn" id="closeEditorsBtn">ë‹«ê¸°</button>
        </div>
      </div>

      <div id="editorsGridWrapper" style="margin-top:18px;">
        <div id="editorsGrid" class="editors-grid" aria-live="polite"></div>
        <div id="editorsLoading" style="text-align:center;color:#666;padding:18px 0"></div>
      </div>

      <div id="editorProfileSection" style="display:none;margin-top:18px;">
        <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:12px;">
          <div>
            <div id="editorProfileName" style="font-weight:900;font-size:20px"></div>
            <div id="editorProfileBio" style="color:#666;font-size:13px"></div>
          </div>
          <div>
            <button class="btn" id="backToEditorsBtn">ëª©ë¡ìœ¼ë¡œ</button>
          </div>
        </div>
        <div id="editorPostsGrid" class="category-grid"></div>
        <div id="editorPostsLoading" style="text-align:center;color:#666;padding:18px 0"></div>
      </div>

    </div>
  </section>

  <!-- ===========================
       POST OVERLAY
       =========================== -->
  <article class="post-overlay" id="postOverlay" aria-hidden="true" role="article">
    <div style="width:100%;max-width:1200px;margin:0 auto;">
      <div style="display:flex;justify-content:flex-end;gap:12px;margin-bottom:18px">
        <button class="btn" id="closePostBtn">ë‹«ê¸°</button>
      </div>
      <div class="post-article" id="postArticle"></div>
    </div>
  </article>

  <!-- ===========================
       SEARCH OVERLAY
       =========================== -->
  <section class="search-overlay" id="searchOverlay" aria-hidden="true" role="search">
    <div class="wrap" style="max-width:1100px;margin:0 auto;">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:18px">
        <div style="flex:1">
          <div class="search-bar" role="search" aria-label="ì‚¬ì´íŠ¸ ê²€ìƒ‰">
            <input type="search" class="search-input" id="searchInputTop" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥ (Enterë¡œ ê²€ìƒ‰)" aria-label="ê²€ìƒ‰ì–´">
            <button type="button" class="search-btn" id="globalSearchBtn">ê²€ìƒ‰</button>
            <button type="button" class="close-btn" id="closeSearchBtn">Ã—</button>
          </div>
        </div>
      </div>

      <div id="searchResults" class="category-grid" aria-live="polite"></div>
    </div>
  </section>

  <!-- ===========================
       ABOUT PAGE
       =========================== -->
  <section class="about-page" id="aboutPageSection" aria-hidden="true" role="region">
    <div class="wrap about-content">
      <div style="display:flex;justify-content:space-between;align-items:flex-start;gap:12px;margin-bottom:18px">
        <div>
          <h2 style="font-size:32px;margin-bottom:10px">ABOUT</h2>
          <div style="color:#333;font-size:15px;line-height:1.8">
            <p><strong>IMPACT</strong> ì€ ç¾ & å‰ KAIST IP-CEO í•™ìƒë“¤ê³¼ POSTECH CEO í•™ìƒë“¤ì´ í•¨ê»˜ ì‘ì„±í•˜ëŠ” ì‹¬ì¸µ ì½˜í…ì¸  í”Œë«í¼ì…ë‹ˆë‹¤.</p>
            <p>í•™ìƒ ì €ìë“¤ì˜ ê²½í—˜ê³¼ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ê¸°ìˆ Â·ê²½ì˜Â·ì°½ì˜ì„±ì„ ê²°í•©í•œ ê¸€ì„ ì œê³µí•©ë‹ˆë‹¤. í˜„ì¥ì˜ ì‚¬ë¡€, ë°ì´í„° ì¸í…”ë¦¬ì „ìŠ¤, ê¹Šì´ ìˆëŠ” ë¶„ì„ì„ í†µí•´ ë…ìì—ê²Œ í†µì°°ì„ ì „ë‹¬í•©ë‹ˆë‹¤.</p>
          </div>
          <div style="margin-top:20px"><button class="btn" id="closeAboutBtn">ë‹«ê¸°</button></div>
        </div>
      </div>
    </div>
  </section>

  <!-- ===========================
       TO TOP
       =========================== -->
  <button class="to-top" id="toTopBtn" title="ë§¨ ìœ„ë¡œ" aria-label="ë§¨ ìœ„ë¡œ">â†‘</button>

  <!-- ===========================
       FOOTER
       =========================== -->
  <footer class="site-footer" role="contentinfo" aria-label="ì‚¬ì´íŠ¸ í‘¸í„°">
    <div class="wrap footer-inner">
      <div>
        <div class="footer-brand">IMPACT</div>
        <div style="margin-top:10px;color:#ddd;font-size:13px">ê´‘ê³  ì œíœ´ ë¬¸ì˜ | <a href="mailto:ceo.impact.official@gmail.com">ceo.impact.official@gmail.com</a></div>
        <div style="color:#ddd;font-size:13px;margin-top:6px">ë³´ë„ìë£Œ | <a href="mailto:ceo.impact.official@gmail.com">ceo.impact.official@gmail.com</a></div>
      </div>

      <div class="footer-links">
        <a href="javascript:void(0)" id="footerAbout">ABOUT</a>
        <a href="javascript:void(0)" id="footerEditors">EDITORS</a>
        <a href="javascript:void(0)" onclick="alert('NEWSLETTER í˜ì´ì§€ëŠ” ì¶”í›„ êµ¬í˜„ë©ë‹ˆë‹¤')">NEWSLETTER</a>
        <a href="https://www.instagram.com/ceo_impact_official" target="_blank" rel="noopener">INSTAGRAM</a>
      </div>

      <div class="footer-right">
        <div style="font-weight:800;color:#fff">IMPACT CEO. ALL RIGHTS RESERVED.</div>
        <div style="color:#999;font-size:13px;margin-top:10px">ì‚¬ì´íŠ¸ëŠ” WordPress.com APIë¡œë¶€í„° ì½˜í…ì¸ ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.</div>
      </div>
    </div>
  </footer>

  <!-- ===========================
       CARD TEMPLATE
       =========================== -->
  <template id="cardTpl">
    <article class="card" role="article" tabindex="0" data-id="">
      <div class="thumb"><img src="" alt=""></div>
      <div class="card-body">
        <div class="cat-row"></div>
        <h3 class="title"></h3>
        <div class="meta">
          <img class="author-avatar" src="" alt="" style="width:36px;height:36px;border-radius:50%;object-fit:cover;">
          <div>
            <div class="author-name"></div>
            <div class="date" style="font-size:12px;color:#777"></div>
          </div>
        </div>
      </div>
    </article>
  </template>

  <!-- ===========================
       EDITOR CARD TEMPLATE
       =========================== -->
  <template id="editorTpl">
    <div class="editor-card" role="button" tabindex="0" data-userid="">
      <img class="editor-avatar" src="" alt="">
      <div class="editor-name"></div>
      <div class="editor-bio"></div>
    </div>
  </template>

  <!-- ===========================
       JAVASCRIPT: ê¸°ëŠ¥ ì „ì²´ (API í”„ë¡ì‹œ / ë¼ìš°í„° / ì´ë²¤íŠ¸ / ë²„ê·¸ ìˆ˜ì • ë°˜ì˜)
       - ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë‹¤ìŒì„ í¬í•¨í•©ë‹ˆë‹¤:
         * Netlify í•¨ìˆ˜ í”„ë¡ì‹œ ì‚¬ìš© (í† í° ë¯¸í¬í•¨)
         * NAV: EDITORS' PICK â†’ editors-pick ì¹´í…Œê³ ë¦¬ ì—°ê²°
         * searchResults: ì´ë²¤íŠ¸ ìœ„ì„ìœ¼ë¡œ í´ë¦­ ì‹œ í¬ìŠ¤íŠ¸ ì—´ê¸° ë³´ì¥ (ë²„ê·¸ ìˆ˜ì •)
         * ëª¨ë°”ì¼ ë„¤ë¹„: X ë²„íŠ¼ ë™ì‘ í™•ì‹¤íˆ (pointer-events ì²˜ë¦¬)
         * accessibility: keyboard ì§€ì› (Enter)
       =========================== -->
  <script>
  /* =========================================================================
     IMPACT â€” JavaScript Full
     - ì‘ì„±: IMPACT dev
     - ì£¼: API í† í°ì€ í´ë¼ì´ì–¸íŠ¸ì— ì ˆëŒ€ ì €ì¥í•˜ì§€ ë§ˆì„¸ìš”.
     - Netlify example: /.netlify/functions/wpProxy?path=<encoded_path>
     ========================================================================= */

  /* ===========================
     ì„¤ì •
     =========================== */
  const WP_SITE = "impactceo0.wordpress.com"; // ì°¸ê³  (í”„ë¡ì‹œì—ì„œ ì‹¤ì œë¡œ ì‚¬ìš©)
  const HOME_PER_PAGE = 5;
  const HOME_MAX = 40;
  // ì¹´í…Œê³ ë¦¬ ID ë§µ (í•„ìš”ì‹œ ì—…ë°ì´íŠ¸)
  const CATEGORIES = {
    "tech": 318,
    "eat": 123073,
    "style": 2286,
    "culture": 1098,
    "life": 124,
    "editors-pick": 259543
  };

  // NAV í‘œì‹œ/ë™ì‘ì„ ìœ„í•œ ë°°ì—´ (ë¼ë²¨ê³¼ ìŠ¬ëŸ¬ê·¸ êµ¬ë¶„)
  const NAV_ITEMS = [
    { label: "TECH", slug: "tech", type: "category" },
    { label: "EAT", slug: "eat", type: "category" },
    { label: "STYLE", slug: "style", type: "category" },
    { label: "CULTURE", slug: "culture", type: "category" },
    { label: "LIFE", slug: "life", type: "category" },
    // í•µì‹¬ ìˆ˜ì •ì : EDITORS' PICKì€ editors-pick ì¹´í…Œê³ ë¦¬ë¥¼ ì—°ë‹¤ (router.openCategory)
    { label: "EDITORS' PICK", slug: "editors-pick", type: "category" },
  ];

  /* ìƒíƒœ */
  const state = {
    homePage: 1,
    homeLoaded: 0,
    homeFinished: false,
    loadingHome: false,
    postsCache: {},
    categoryPages: {},
    categoryFinished: {},
    editorsList: [],
    editorsLoaded: false
  };

  /* ===========================
     ìœ í‹¸: API í”„ë¡ì‹œ URL ìƒì„±
     - Netlify í•¨ìˆ˜ê°€ /.netlify/functions/wpProxy ë¡œ ë°°ì¹˜ë˜ì–´ ìˆì–´ì•¼ í•¨
     - path ë§¤ê°œë³€ìˆ˜ë¥¼ ì¸ì½”ë”©í•´ì„œ ì „ë‹¬
     =========================== */
  function api(path) {
    // ìë™ìœ¼ë¡œ _embed íŒŒë¼ë¯¸í„° ì¶”ê°€í•´ì„œ ì„ë² ë“œ ë°ì´í„° í™•ë³´
    const p = path.includes('_embed') ? path : (path + (path.includes('?') ? '&' : '?') + '_embed');
    return `/.netlify/functions/wpProxy?path=${encodeURIComponent(p)}`;
  }

  function headers() {
    // ì„œë²„ì—ì„œ í† í°ì„ ì²˜ë¦¬í•˜ë¯€ë¡œ í´ë¼ì´ì–¸íŠ¸ëŠ” ë¹ˆ ê°ì²´ ë°˜í™˜
    return {};
  }

  /* ë‚ ì§œ í¬ë§· (ê°„ë‹¨) */
  function formatDate(dstr) {
    try {
      const d = new Date(dstr);
      return `${d.getFullYear()}. ${String(d.getMonth()+1).padStart(2,'0')}. ${String(d.getDate()).padStart(2,'0')}.`;
    } catch(e) { return ''; }
  }

  /* placeholder data uri */
  function placeholderDataURI(w=600,h=400,txt='No Image') {
    const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='${w}' height='${h}'><rect width='100%' height='100%' fill='#efefef'/><text x='50%' y='50%' fill='#aaa' font-size='20' text-anchor='middle' dominant-baseline='middle'>${txt}</text></svg>`;
    return 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(svg);
  }

  /* pick category class helper */
  function pickCategoryClass(nameOrSlug) {
    if(!nameOrSlug) return '';
    const s = String(nameOrSlug).toLowerCase();
    if(s.includes('tech') || s.includes('technology')) return 'cat-tech';
    if(s.includes('eat')) return 'cat-eat';
    if(s.includes('style')) return 'cat-style';
    if(s.includes('culture')) return 'cat-culture';
    if(s.includes('life')) return 'cat-life';
    if(s.includes('editor') || s.includes('editors')) return 'cat-editors-pick';
    return '';
  }

  /* ===========================
     NAV ë Œë”ë§
     - í•µì‹¬: EDITORS' PICKì„ ëˆŒë €ì„ ë•Œ editors-pick ì¹´í…Œê³ ë¦¬ ì—´ê¸°
     =========================== */
  function renderNavList() {
    const navList = document.getElementById('navList');
    navList.innerHTML = '';
    NAV_ITEMS.forEach(item => {
      const li = document.createElement('li');
      li.textContent = item.label;
      li.tabIndex = 0;
      li.setAttribute('role','menuitem');
      li.addEventListener('click', () => {
        // í•­ìƒ ë„¤ë¹„ ë‹«ê³  ì‹¤í–‰
        ui.toggleNav(false);
        if(item.type === 'category') {
          router.openCategory(item.slug);
        } else if(item.type === 'editors') {
          router.openEditors();
        } else {
          alert('ì§€ì›ë˜ì§€ ì•ŠëŠ” ë©”ë‰´ì…ë‹ˆë‹¤.');
        }
      });
      li.addEventListener('keydown', (e) => { if(e.key === 'Enter' || e.key === ' ') li.click(); });
      navList.appendChild(li);
    });
  }

  /* ===========================
     ì¹´ë“œ ë…¸ë“œ ìƒì„± (ê³µìš©)
     - ë²„ê·¸ ëŒ€ì‘: ì¹´ë“œì— data-id ì†ì„± ì¶”ê°€ ë° í‚¤ë³´ë“œë¡œë„ ì—´ë¦¬ê²Œ tabindex ë¶€ì—¬
     =========================== */
  function createCardNode(post) {
    const tpl = document.getElementById('cardTpl');
    const node = tpl.content.firstElementChild.cloneNode(true);

    node.setAttribute('data-id', post.id);
    node.setAttribute('aria-label', (post.title && post.title.rendered) ? (stripTags(post.title.rendered)) : 'post');
    node.tabIndex = 0;

    const imgEl = node.querySelector('.thumb img');
    let thumbUrl = '';
    try {
      thumbUrl = post._embedded && post._embedded['wp:featuredmedia'] && post._embedded['wp:featuredmedia'][0] && post._embedded['wp:featuredmedia'][0].source_url ? post._embedded['wp:featuredmedia'][0].source_url : '';
    } catch(e) { thumbUrl = ''; }
    imgEl.src = thumbUrl || placeholderDataURI(1200,800,'No Image');
    imgEl.alt = (post.title && post.title.rendered) ? stripTags(post.title.rendered) : 'thumb';

    node.querySelector('.title').innerHTML = post.title && post.title.rendered ? post.title.rendered : 'ì œëª© ì—†ìŒ';

    const avatarImg = node.querySelector('.author-avatar');
    const authorNameEl = node.querySelector('.author-name');
    const dateEl = node.querySelector('.date');

    if(post._embedded && post._embedded.author && post._embedded.author[0]) {
      const a = post._embedded.author[0];
      const avatarUrl = (a.avatar_urls && (a.avatar_urls['96']||a.avatar_urls['48']||a.avatar_urls['24'])) ? (a.avatar_urls['48']||a.avatar_urls['24']) : '';
      avatarImg.src = avatarUrl || placeholderDataURI(96,96,'U');
      avatarImg.alt = a.name || 'author';
      authorNameEl.textContent = a.name || 'ìµëª…';
    } else {
      avatarImg.src = placeholderDataURI(96,96,'U');
      authorNameEl.textContent = 'ìµëª…';
    }
    dateEl.textContent = formatDate(post.date);

    // categories
    const catRow = node.querySelector('.cat-row');
    catRow.innerHTML = '';
    if(post._embedded && post._embedded['wp:term'] && post._embedded['wp:term'][0]) {
      const cats = post._embedded['wp:term'][0];
      cats.forEach(c => {
        if(c && c.name) {
          const span = document.createElement('span');
          span.className = 'cat-badge';
          span.textContent = c.name;
          const cls = pickCategoryClass(c.slug || c.name);
          if(cls) span.classList.add(cls);
          else span.style.background = '#666';
          catRow.appendChild(span);
        }
      });
    }

    // í´ë¦­/í‚¤ ì´ë²¤íŠ¸: openPostOverlayById ì‚¬ìš©
    node.addEventListener('click', (e) => {
      // ì´ë²¤íŠ¸ ìœ„ì„ ì¶©ëŒ ë°©ì§€: í´ë¦­ ìœ„ì¹˜ì— ìƒê´€ì—†ì´ data-idë¡œ ì—´ê¸°
      const pid = e.currentTarget.getAttribute('data-id');
      if(pid) openPostOverlayById(Number(pid));
    });
    node.addEventListener('keydown', (e) => { if(e.key === 'Enter') node.click(); });

    return node;
  }

  function stripTags(str='') {
    return String(str).replace(/<\/?[^>]+(>|$)/g, "");
  }

  /* ===========================
     HOME ë¡œë“œ (ë¬´í•œìŠ¤í¬ë¡¤)
     =========================== */
  async function loadHomeChunk() {
    if(state.loadingHome || state.homeFinished) return;
    state.loadingHome = true;
    document.getElementById('homeLoading').textContent = 'ë¡œë”© ì¤‘...';

    try {
      const res = await fetch(api(`posts?per_page=${HOME_PER_PAGE}&page=${state.homePage}`), { headers: headers() });
      if(!res.ok) {
        if(res.status === 400) {
          state.homeFinished = true;
          document.getElementById('homeLoading').textContent = 'ë” ì´ìƒ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.';
        } else {
          throw new Error('Home fetch failed: ' + res.status);
        }
        state.loadingHome = false;
        return;
      }
      const posts = await res.json();
      if(!Array.isArray(posts) || posts.length === 0) {
        state.homeFinished = true;
        document.getElementById('homeLoading').textContent = 'ì•„ì§ ê²Œì‹œëœ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.';
        state.loadingHome = false;
        return;
      }

      posts.forEach(p => state.postsCache[p.id] = p);

      const container = document.getElementById('rowsContainer');

      // ê·¸ë£¹í™”: 1 left hero + up to 4 right smalls
      for(let i=0;i<posts.length;i+=5) {
        const group = posts.slice(i,i+5);
        if(state.homeLoaded >= HOME_MAX) { state.homeFinished = true; break; }
        const row = document.createElement('div');
        row.className = 'row';

        // left hero
        const leftPost = group[0];
        const leftDiv = document.createElement('div');
        leftDiv.className = 'col-left';

        let heroUrl = '';
        try {
          heroUrl = leftPost._embedded?.['wp:featuredmedia']?.[0]?.source_url || '';
        } catch(e) { heroUrl = ''; }

        leftDiv.innerHTML = `
          <img class="hero" src="${heroUrl || placeholderDataURI(1200,800,'No Image')}" alt="hero">
          <div class="hero-overlay">
            <h2 class="hero-title"></h2>
            <div style="display:flex;align-items:center;gap:10px">
              <img class="hero-avatar" src="" alt="" style="width:36px;height:36px;border-radius:50%;object-fit:cover;">
              <div class="hero-author" style="font-weight:800;color:#fff"></div>
              <div class="hero-date" style="margin-left:8px;color:#eee;opacity:.9"></div>
            </div>
          </div>
        `;

        const catWrap = document.createElement('div');
        catWrap.className = 'hero-cats';
        if(leftPost._embedded && leftPost._embedded['wp:term'] && leftPost._embedded['wp:term'][0] && leftPost._embedded['wp:term'][0].length>0) {
          const c = leftPost._embedded['wp:term'][0][0];
          const span = document.createElement('span');
          span.className = 'cat-badge ' + pickCategoryClass(c.slug || c.name);
          span.textContent = c.name;
          catWrap.appendChild(span);
        }
        leftDiv.appendChild(catWrap);

        const heroTitle = leftDiv.querySelector('.hero-title');
        heroTitle.innerHTML = leftPost.title && leftPost.title.rendered ? leftPost.title.rendered : 'ì œëª© ì—†ìŒ';
        const heroAvatar = leftDiv.querySelector('.hero-avatar');
        const heroAuthor = leftDiv.querySelector('.hero-author');
        const heroDate = leftDiv.querySelector('.hero-date');

        if(leftPost._embedded && leftPost._embedded.author && leftPost._embedded.author[0]) {
          const a = leftPost._embedded.author[0];
          const av = (a.avatar_urls && (a.avatar_urls['96']||a.avatar_urls['48']||a.avatar_urls['24'])) ? (a.avatar_urls['48']||a.avatar_urls['24']) : '';
          heroAvatar.src = av || placeholderDataURI(48,48,'U');
          heroAuthor.textContent = (a.name || 'ìµëª…');
        } else {
          heroAvatar.src = placeholderDataURI(48,48,'U');
          heroAuthor.textContent = 'ìµëª…';
        }
        heroDate.textContent = formatDate(leftPost.date);

        adjustHeroContrast(leftDiv.querySelector('.hero'), heroTitle, leftDiv.querySelector('.hero-overlay'));
        leftDiv.addEventListener('click', ()=> openPostOverlayById(leftPost.id));
        row.appendChild(leftDiv);

        // right small cards
        const rightDiv = document.createElement('div');
        rightDiv.className = 'col-right';
        const smalls = group.slice(1,5);

        smalls.forEach(s => {
          const cardNode = createCardNode(s);
          rightDiv.appendChild(cardNode);
        });

        row.appendChild(rightDiv);
        container.appendChild(row);

        state.homeLoaded += group.length;
        if(state.homeLoaded >= HOME_MAX) { state.homeFinished = true; break; }
      }

      state.homePage += 1;
      document.getElementById('homeLoading').textContent = '';
    } catch(err) {
      console.error(err);
      document.getElementById('homeLoading').textContent = 'ë©”ì¸ ê¸€ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨';
    } finally {
      state.loadingHome = false;
    }
  }

  /* ===========================
     ì¹´í…Œê³ ë¦¬ ë¡œë“œ
     =========================== */
  async function loadCategoryPage(slug) {
    if(!slug) return;
    if(state.categoryFinished[slug]) return;
    const nextPage = state.categoryPages[slug] || 1;
    document.getElementById('categoryLoading').textContent = 'ë¡œë”© ì¤‘...';
    try {
      const catId = CATEGORIES[slug];
      if(!catId) { document.getElementById('categoryLoading').textContent = 'ì•Œ ìˆ˜ ì—†ëŠ” ì¹´í…Œê³ ë¦¬ì…ë‹ˆë‹¤.'; return; }
      const res = await fetch(api(`posts?categories=${catId}&per_page=10&page=${nextPage}`), { headers: headers() });
      if(!res.ok) {
        if(res.status === 400) { state.categoryFinished[slug] = true; document.getElementById('categoryLoading').textContent = 'ë” ì´ìƒ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.'; return; }
        throw new Error('category fetch failed: ' + res.status);
      }
      const posts = await res.json();
      if(!Array.isArray(posts) || posts.length === 0) {
        state.categoryFinished[slug] = true;
        document.getElementById('categoryLoading').textContent = 'ì•„ì§ ê²Œì‹œëœ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.';
        return;
      }

      const grid = document.getElementById('categoryGrid');
      posts.forEach(p => {
        state.postsCache[p.id] = p;
        const card = createCardNode(p);
        grid.appendChild(card);
      });

      state.categoryPages[slug] = nextPage + 1;
      document.getElementById('categoryLoading').textContent = '';
    } catch(err) {
      console.error(err);
      document.getElementById('categoryLoading').textContent = 'ì¹´í…Œê³ ë¦¬ ê¸€ ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨';
    }
  }

  /* ===========================
     ë‹¨ì¼ í¬ìŠ¤íŠ¸ ë¡œë“œ (ì˜¤ë²„ë ˆì´)
     =========================== */
  async function openPostOverlayById(id) {
    if(!id) return;
    const cached = state.postsCache[id];
    if(cached && cached.content && cached.content.rendered) {
      renderPostOverlay(cached);
      return;
    }
    try {
      const res = await fetch(api(`posts/${id}`), { headers: headers() });
      if(!res.ok) throw new Error('post fetch failed ' + res.status);
      const post = await res.json();

      // ensure embedded
      if(!(post._embedded && post._embedded.author)) {
        const res2 = await fetch(api(`posts/${id}?_embed`), { headers: headers() });
        if(res2.ok) {
          const post2 = await res2.json();
          state.postsCache[id] = post2;
          renderPostOverlay(post2);
          return;
        }
      }
      state.postsCache[id] = post;
      renderPostOverlay(post);
    } catch(err) {
      console.error(err);
      alert('í¬ìŠ¤íŠ¸ ë¡œë“œ ì‹¤íŒ¨ â€” ì›ë¬¸ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.');
      if(cached && cached.link) window.open(cached.link, '_blank');
    }
  }

  function renderPostOverlay(post) {
    const overlay = document.getElementById('postOverlay');
    const article = document.getElementById('postArticle');
    const title = post.title && post.title.rendered ? post.title.rendered : 'ì œëª© ì—†ìŒ';
    const authorName = (post._embedded && post._embedded.author && post._embedded.author[0] && post._embedded.author[0].name) ? post._embedded.author[0].name : 'ìµëª…';
    const avatar = (post._embedded && post._embedded.author && post._embedded.author[0] && post._embedded.author[0].avatar_urls) ? (post._embedded.author[0].avatar_urls['96'] || post._embedded.author[0].avatar_urls['48']) : '';
    const categories = (post._embedded && post._embedded['wp:term'] && post._embedded['wp:term'][0]) ? post._embedded['wp:term'][0].map(t=>t.name).join(', ') : '-';
    const dateStr = formatDate(post.date);
    const contentHTML = post.content && post.content.rendered ? post.content.rendered : (post.excerpt && post.excerpt.rendered ? post.excerpt.rendered : '');

    article.innerHTML = `
      <h1>${title}</h1>
      <div class="post-meta" style="margin-bottom:14px;display:flex;gap:12px;align-items:center;">
        <img src="${avatar || placeholderDataURI(96,96,'U')}" alt="author" style="width:52px;height:52px;border-radius:50%;object-fit:cover;">
        <div style="display:flex;flex-direction:column">
          <div style="font-weight:800;color:#111">${authorName}</div>
          <div style="color:#666;font-size:13px">${dateStr} Â· ${categories}</div>
        </div>
      </div>
      <div class="post-content">${contentHTML}</div>
      <div style="margin-top:18px;color:#888;font-size:13px">ì›ë¬¸ ë§í¬: <a href="${post.link}" target="_blank" rel="noopener">${post.link}</a></div>
    `;

    article.querySelectorAll('.post-content img').forEach(img=>{
      img.style.maxWidth = '100%';
      img.style.height = 'auto';
      img.style.display = 'block';
      img.style.margin = '12px 0';
    });

    overlay.classList.add('active');
    overlay.scrollTop = 0;
    history.pushState({ page: 'post', id: post.id }, '', `#post-${post.id}`);
  }

  /* ===========================
     ê²€ìƒ‰
     - ë²„ê·¸ ìˆ˜ì • í¬ì¸íŠ¸: ê²€ìƒ‰ ê²°ê³¼ë¥¼ í´ë¦­í•´ë„ í¬ìŠ¤íŠ¸ë¡œ ì§„ì…í•˜ì§€ ì•Šë˜ ë¬¸ì œ í•´ê²°.
       (í•´ê²° ë°©ë²•: createCardNodeì— data-idë¥¼ ëª…ì‹œí•˜ê³ , ì´ë²¤íŠ¸ë¥¼ ì¹´ë“œì— ì§ì ‘ ë°”ì¸ë”©.
        ë˜í•œ search overlay ë‚´ë¶€ì˜ ì´ë²¤íŠ¸ ìœ„ì„ë„ ì¶”ê°€ë¡œ êµ¬í˜„)
     =========================== */
  async function doSearch(q) {
    if(!q) return;
    ui.openSearch(); // opens overlay and pushes history
    const resultsGrid = document.getElementById('searchResults');
    resultsGrid.innerHTML = '';
    try {
      const res = await fetch(api(`posts?search=${encodeURIComponent(q)}&per_page=20`), { headers: headers() });
      if(!res.ok) throw new Error('search failed ' + res.status);
      const posts = await res.json();
      if(!Array.isArray(posts) || posts.length === 0) {
        resultsGrid.innerHTML = '<div style="padding:20px;color:#666">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
        return;
      }
      posts.forEach(p => {
        state.postsCache[p.id] = p;
        const card = createCardNode(p);
        resultsGrid.appendChild(card);
      });
      // ë³´ê°•: í´ë¦­ ì´ë²¤íŠ¸ ìœ„ì„ (ì•ˆì „ë§)
      resultsGrid.addEventListener('click', onSearchResultsClick);
      resultsGrid.addEventListener('keydown', onSearchResultsKeydown);
    } catch(err) {
      console.error(err);
      resultsGrid.innerHTML = '<div style="padding:20px;color:#d00">ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.</div>';
    }
  }

  function onSearchResultsClick(e) {
    const card = e.target.closest('.card');
    if(card && card.getAttribute('data-id')) {
      const pid = Number(card.getAttribute('data-id'));
      if(pid) openPostOverlayById(pid);
    }
  }
  function onSearchResultsKeydown(e) {
    if(e.key === 'Enter') {
      const card = e.target.closest('.card');
      if(card && card.getAttribute('data-id')) {
        const pid = Number(card.getAttribute('data-id'));
        if(pid) openPostOverlayById(pid);
      }
    }
  }

  /* ===========================
     íˆì–´ë¡œ ëŒ€ë¹„ ë³´ì • (ì•ˆì •í˜•)
     =========================== */
  function adjustHeroContrast(imgEl, titleEl, overlayEl) {
    if(!imgEl || !imgEl.src) return;
    const img = new Image();
    img.crossOrigin = "anonymous";
    img.src = imgEl.src;
    function setColors(isLight) {
      if(isLight) {
        titleEl.style.color = '#111';
        titleEl.style.textShadow = 'none';
        overlayEl.style.background = 'linear-gradient(0deg, rgba(255,255,255,0.85), rgba(255,255,255,0.35))';
      } else {
        titleEl.style.color = '#fff';
        titleEl.style.textShadow = '0 3px 12px rgba(0,0,0,0.45)';
        overlayEl.style.background = 'linear-gradient(180deg, rgba(0,0,0,0.0), rgba(0,0,0,0.45))';
      }
    }
    img.onload = function() {
      try {
        const canvas = document.createElement('canvas');
        const w = Math.min(200, img.width);
        const h = Math.min(120, img.height);
        canvas.width = w; canvas.height = h;
        const ctx = canvas.getContext('2d');
        ctx.drawImage(img, 0, 0, w, h);
        const data = ctx.getImageData(0,0,w,h).data;
        let r=0,g=0,b=0,count=0;
        for(let i=0;i<data.length;i+=4) { r += data[i]; g += data[i+1]; b += data[i+2]; count++; }
        const avgR = r/count, avgG = g/count, avgB = b/count;
        const lum = 0.2126*avgR + 0.7152*avgG + 0.0722*avgB;
        setColors(lum > 150);
      } catch(e) { setColors(false); }
    };
    img.onerror = function() { setColors(false); };
  }

  /* ===========================
     ìŠ¤í¬ë¡¤/ë¬´í•œìŠ¤í¬ë¡¤/TO-TOP
     =========================== */
  function onScrollHandler() {
    const toTop = document.getElementById('toTopBtn');
    if(window.scrollY > 300) toTop.classList.add('show'); else toTop.classList.remove('show');

    const categoryOverlay = document.getElementById('categoryOverlay');
    if(categoryOverlay.classList.contains('active')) {
      const scroller = categoryOverlay;
      if(scroller.scrollHeight - (scroller.scrollTop + scroller.clientHeight) < 300) {
        const slug = categoryOverlay.dataset.slug;
        if(slug) loadCategoryPage(slug);
      }
      return;
    }

    const postOverlay = document.getElementById('postOverlay');
    if(postOverlay.classList.contains('active')) return;

    const searchOverlay = document.getElementById('searchOverlay');
    if(searchOverlay.classList.contains('active')) return;

    if(!state.loadingHome && !state.homeFinished) {
      const bottomThreshold = 1200;
      if(window.innerHeight + window.scrollY >= document.body.offsetHeight - bottomThreshold) {
        loadHomeChunk();
      }
    }
  }

  /* ===========================
     UI: ë„¤ë¹„ í† ê¸€(ë”ë³´ê¸°) & ê²€ìƒ‰ ì˜¤í”ˆ/ë‹«ê¸°
     - ì£¼ìš” ìˆ˜ì •: nav-overlay ê¸°ë³¸ì ìœ¼ë¡œ pointer-events:noneë¡œ ì„¤ì •,
       ui.toggleNav(true/false)ë¡œ ì œì–´í•˜ì—¬ ëª¨ë°”ì¼ X ë²„íŠ¼ ë¬¸ì œ í•´ê²°
     =========================== */
  const ui = {
    toggleNav(forceCloseOrOpen) {
      const nav = document.getElementById('navOverlay');
      if(forceCloseOrOpen === true) {
        nav.classList.remove('active');
        nav.setAttribute('aria-hidden','true');
        document.querySelector('[aria-controls="navOverlay"]').setAttribute('aria-expanded','false');
      } else if(forceCloseOrOpen === false) {
        // open
        nav.classList.add('active');
        nav.setAttribute('aria-hidden','false');
        document.querySelector('[aria-controls="navOverlay"]').setAttribute('aria-expanded','true');
      } else {
        // toggle
        const isActive = nav.classList.contains('active');
        if(isActive) { nav.classList.remove('active'); nav.setAttribute('aria-hidden','true'); document.querySelector('[aria-controls="navOverlay"]').setAttribute('aria-expanded','false'); }
        else { nav.classList.add('active'); nav.setAttribute('aria-hidden','false'); document.querySelector('[aria-controls="navOverlay"]').setAttribute('aria-expanded','true'); }
      }
    },
    openSearch() {
      const overlay = document.getElementById('searchOverlay');
      overlay.classList.add('active');
      overlay.setAttribute('aria-hidden','false');
      const input = document.getElementById('searchInputTop');
      if(input) input.focus();
      history.pushState({ page: 'search' }, '', '#search');
      // close nav if open
      const nav = document.getElementById('navOverlay'); nav.classList.remove('active'); nav.setAttribute('aria-hidden','true');
    },
    closeSearch() {
      const overlay = document.getElementById('searchOverlay');
      overlay.classList.remove('active');
      overlay.setAttribute('aria-hidden','true');
    }
  };

  /* ===========================
     ROUTER: ì˜¤ë²„ë ˆì´ ì—´ê¸°/ë‹«ê¸° ìœ í‹¸
     =========================== */
  const CATEGORY_DESCRIPTIONS = {
    tech: "ìµœì‹  ê¸°ìˆ ê³¼ í˜ì‹  íŠ¸ë Œë“œë¥¼ ë‹¤ë£¹ë‹ˆë‹¤.",
    eat: "ë‹¤ì–‘í•œ ìŒì‹ ë¬¸í™”ì™€ ë§›ì§‘ì„ ì†Œê°œí•©ë‹ˆë‹¤.",
    style: "íŒ¨ì…˜, ë·°í‹°, ë¼ì´í”„ìŠ¤íƒ€ì¼ì„ íƒêµ¬í•©ë‹ˆë‹¤.",
    culture: "ë¬¸í™”, ì˜ˆìˆ , ì‚¬íšŒ í˜„ìƒì„ ë¶„ì„í•©ë‹ˆë‹¤.",
    life: "ì¼ìƒê³¼ ê²½í—˜ì—ì„œ ì–»ì€ í†µì°°ì„ ë‚˜ëˆ•ë‹ˆë‹¤.",
    "editors-pick": "ì—ë””í„°ê°€ ì§ì ‘ ì—„ì„ í•œ ê¸€ ëª¨ìŒì…ë‹ˆë‹¤."
  };

  const router = {
    goHome() {
      closeAllOverlays();
      window.scrollTo({ top: 0, behavior: 'smooth' });
      history.pushState({ page: 'home' }, '', '/');
    },
    openCategory(slug) {
      const overlay = document.getElementById('categoryOverlay');
      overlay.dataset.slug = slug;
      overlay.classList.add('active');
      overlay.setAttribute('aria-hidden','false');
      overlay.scrollTop = 0;
      document.getElementById('categoryOverlayTitle').textContent = slug.toUpperCase();
      document.getElementById('categoryOverlaySubtitle').textContent = CATEGORY_DESCRIPTIONS[slug] || "ì¹´í…Œê³ ë¦¬ ì½˜í…ì¸ ";
      state.categoryPages[slug] = 1;
      state.categoryFinished[slug] = false;
      document.getElementById('categoryGrid').innerHTML = '';
      loadCategoryPage(slug);
      history.pushState({ page: 'category', slug }, '', `#category-${slug}`);
      // close nav
      document.getElementById('navOverlay').classList.remove('active');
    },
    closeCategory() {
      const overlay = document.getElementById('categoryOverlay');
      overlay.classList.remove('active');
      overlay.setAttribute('aria-hidden','true');
      delete overlay.dataset.slug;
    },
    openPost(post) {
      if(post && post.id) {
        state.postsCache[post.id] = post;
        renderPostOverlay(post);
        history.pushState({ page: 'post', id: post.id }, '', `#post-${post.id}`);
        document.getElementById('navOverlay').classList.remove('active');
      }
    },
    closePost() {
      document.getElementById('postOverlay').classList.remove('active');
      document.getElementById('postOverlay').setAttribute('aria-hidden','true');
    },
    openAbout() {
      closeAllOverlays();
      document.getElementById('aboutPageSection').classList.add('active');
      document.getElementById('aboutPageSection').setAttribute('aria-hidden','false');
      history.pushState({ page: 'about' }, '', '#about');
    },
    closeAbout() {
      document.getElementById('aboutPageSection').classList.remove('active');
      document.getElementById('aboutPageSection').setAttribute('aria-hidden','true');
    },
    openEditors() {
      closeAllOverlays();
      document.getElementById('editorsOverlay').classList.add('active');
      document.getElementById('editorsOverlay').setAttribute('aria-hidden','false');
      loadEditors();
      history.pushState({ page: 'editors' }, '', '#editors');
    },
    closeEditors() {
      document.getElementById('editorsOverlay').classList.remove('active');
      document.getElementById('editorsOverlay').setAttribute('aria-hidden','true');
    }
  };

  function closeAllOverlays() {
    ['categoryOverlay','postOverlay','searchOverlay','aboutPageSection','editorsOverlay','navOverlay'].forEach(id=>{
      const el = document.getElementById(id);
      if(el) { el.classList.remove('active'); el.setAttribute('aria-hidden','true'); }
    });
  }

  /* ===========================
     EDITORS: ëª©ë¡ ë° ìœ ì € í”„ë¡œí•„ í‘œì‹œ
     =========================== */
  async function loadEditors() {
    if(state.editorsLoaded) return;
    document.getElementById('editorsLoading').textContent = 'ë¡œë”© ì¤‘...';
    try {
      const res = await fetch(api(`users?per_page=100`), { headers: headers() });
      if(!res.ok) throw new Error('editors api fail ' + res.status);
      const users = await res.json();
      state.editorsList = Array.isArray(users) ? users : [];
      renderEditorsGrid();
      state.editorsLoaded = true;
      document.getElementById('editorsLoading').textContent = '';
    } catch(e) {
      console.error(e);
      document.getElementById('editorsLoading').textContent = 'ì—ë””í„° ëª©ë¡ì„ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.';
    }
  }

  function renderEditorsGrid() {
    const wrap = document.getElementById('editorsGrid');
    wrap.innerHTML = '';
    const tpl = document.getElementById('editorTpl');
    state.editorsList.forEach(u => {
      const node = tpl.content.firstElementChild.cloneNode(true);
      const img = node.querySelector('.editor-avatar');
      img.src = (u.avatar_urls && (u.avatar_urls['96']||u.avatar_urls['48']||u.avatar_urls['24'])) ? (u.avatar_urls['96']||u.avatar_urls['48']||u.avatar_urls['24']) : placeholderDataURI(96,96,'U');
      img.alt = u.name || u.slug || 'editor';
      node.querySelector('.editor-name').textContent = u.name || u.slug || 'unknown';
      node.querySelector('.editor-bio').textContent = u.description || '';
      node.setAttribute('data-userid', u.id);
      node.addEventListener('click', () => openEditorProfile(u));
      node.addEventListener('keydown', e => { if(e.key === 'Enter') openEditorProfile(u); });
      wrap.appendChild(node);
    });
  }

  async function openEditorProfile(user) {
    if(!user || !user.id) return;
    document.getElementById('editorsGridWrapper').style.display = 'none';
    const section = document.getElementById('editorProfileSection');
    section.style.display = 'block';
    document.getElementById('editorProfileName').textContent = user.name || user.slug || '';
    document.getElementById('editorProfileBio').textContent = user.description || '';
    const grid = document.getElementById('editorPostsGrid');
    grid.innerHTML = '';
    document.getElementById('editorPostsLoading').textContent = 'ë¡œë”© ì¤‘...';

    try {
      const res = await fetch(api(`posts?author=${user.id}&per_page=50`), { headers: headers() });
      const posts = await res.json();
      if(Array.isArray(posts)) {
        posts.forEach(p => {
          state.postsCache[p.id] = p;
          const card = createCardNode(p);
          grid.appendChild(card);
        });
      }
      document.getElementById('editorPostsLoading').textContent = '';
      history.pushState({page:'editor', id:user.id}, '', `#editor-${user.id}`);
    } catch(e) {
      console.error(e);
      document.getElementById('editorPostsLoading').textContent = 'ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨';
    }
  }

  function showEditorsList() {
    document.getElementById('editorProfileSection').style.display = 'none';
    document.getElementById('editorsGridWrapper').style.display = 'block';
    history.pushState({page:'editors'}, '', '#editors');
  }

  /* ===========================
     ì´ë²¤íŠ¸ ë°”ì¸ë”© ë° ì´ˆê¸°í™”
     - X ë²„íŠ¼ ë¬¸ì œ(ëª¨ë°”ì¼ ë”ë³´ê¸°): navOverlayì— pointer-events:none;ìœ¼ë¡œ ê¸°ë³¸ ë¹„í™œì„±í™” í•´ ë‘ .
       more ë²„íŠ¼ í´ë¦­ ì‹œ ui.toggleNav(false)ë¡œ open; X ë²„íŠ¼ì€ navCloseBtn í´ë¦­ ì‹œ ui.toggleNav(true)ë¡œ ë‹«ìŒ.
     - ê²€ìƒ‰ ê²°ê³¼ í´ë¦­ ì˜¤ë¥˜ ë³´ì™„: createCardNodeì— ë°ì´í„°, ì´ë²¤íŠ¸ ë°”ì¸ë”©, ê·¸ë¦¬ê³  overlay ë‚´ ìœ„ì„
     =========================== */
  function bindEvents() {
    // Render nav items
    renderNavList();

    // More / nav toggle
    const moreBtn = document.getElementById('moreBtn');
    moreBtn.addEventListener('click', (e) => {
      ui.toggleNav(false);
    });

    // Nav close (X) button
    const navCloseBtn = document.getElementById('navCloseBtn');
    navCloseBtn.addEventListener('click', () => {
      ui.toggleNav(true);
    });

    // Links in nav footer
    document.getElementById('linkAbout').addEventListener('click', () => { ui.toggleNav(true); router.openAbout(); });
    document.getElementById('linkEditors').addEventListener('click', () => { ui.toggleNav(true); router.openEditors(); });
    document.getElementById('linkNewsletter').addEventListener('click', () => alert('NEWSLETTER í˜ì´ì§€ëŠ” ì¶”í›„ êµ¬í˜„ë©ë‹ˆë‹¤'));

    // Category close
    document.getElementById('closeCategoryBtn').addEventListener('click', () => router.closeCategory());

    // Editors close/back
    document.getElementById('closeEditorsBtn').addEventListener('click', () => router.closeEditors());
    document.getElementById('backToEditorsBtn').addEventListener('click', () => showEditorsList());

    // Post close
    document.getElementById('closePostBtn').addEventListener('click', () => router.closePost());

    // Search open from header
    const topSearchBtn = document.getElementById('topSearchBtn');
    topSearchBtn.addEventListener('click', openNavlessSearch);

    // Search overlay buttons
    document.getElementById('globalSearchBtn').addEventListener('click', (e) => {
      const q = document.getElementById('searchInputTop').value.trim();
      if(!q) { alert('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”'); return; }
      doSearch(q);
    });

    document.getElementById('closeSearchBtn').addEventListener('click', () => ui.closeSearch());

    // nav search (Enter)
    const navSearchInput = document.getElementById('globalNavSearch');
    if(navSearchInput) {
      navSearchInput.addEventListener('keydown', (e) => {
        if(e.key === 'Enter') {
          const q = e.target.value.trim();
          if(!q) { alert('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”'); return; }
          ui.toggleNav(true);
          setTimeout(() => { ui.openSearch(); const top = document.getElementById('searchInputTop'); if(top) top.value = q; if(q) doSearch(q); }, 120);
        }
      });
    }

    // search overlay input Enter
    const searchOverlayInput = document.getElementById('searchInputTop');
    if(searchOverlayInput) {
      searchOverlayInput.addEventListener('keydown', (e) => {
        if(e.key === 'Enter') {
          const q = e.target.value.trim();
          if(!q) { alert('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”'); return; }
          doSearch(q);
        } else if(e.key === 'Escape') {
          ui.closeSearch();
        }
      });
    }

    // to-top
    const toTopBtn = document.getElementById('toTopBtn');
    toTopBtn.addEventListener('click', ()=> window.scrollTo({ top:0, behavior:'smooth' }));

    // scroll handling
    window.addEventListener('scroll', onScrollHandler, { passive:true });

    // Escape í•¸ë“¤ë§: ëª¨ë“  ì˜¤ë²„ë ˆì´ ë‹«ê¸°
    window.addEventListener('keydown', (e)=> {
      if(e.key === 'Escape') {
        ui.toggleNav(true);
        ui.closeSearch();
        router.closeCategory();
        router.closePost();
        router.closeAbout();
        router.closeEditors();
      }
    });

    // History popstate: ê°„ë‹¨ í•¸ë“¤ë§
    window.addEventListener('popstate', function(event) {
      // close everything first
      closeAllOverlays();

      if(event.state && event.state.page) {
        const pg = event.state.page;
        if(pg === 'about') document.getElementById('aboutPageSection').classList.add('active');
        else if(pg === 'search') document.getElementById('searchOverlay').classList.add('active');
        else if(pg === 'category') {
          const slug = event.state.slug || null;
          if(slug) {
            router.openCategory(String(slug));
          } else window.scrollTo({ top:0, behavior:'smooth' });
        } else if(pg === 'post') {
          const pid = event.state.id;
          if(pid) openPostOverlayById(pid);
        } else if(pg === 'home') {
          window.scrollTo({ top:0, behavior:'smooth' });
        } else if(pg === 'editors') {
          router.openEditors();
          if(event.state && event.state.id) {
            setTimeout(()=> openEditorProfile({id:event.state.id}), 300);
          }
        }
      } else {
        // default: go home
        window.scrollTo({ top:0, behavior:'smooth' });
      }
    }, false);
  }

  /* ===========================
     ë‹¨ìˆœ í—¬í¼: ë„¤ë¹„ë¥¼ ì—´ì§€ ì•Šê³  ê²€ìƒ‰ì°½ ì—´ê¸° (í—¤ë” ë²„íŠ¼)
     =========================== */
  function openNavlessSearch() {
    // Close nav if open
    ui.toggleNav(true);
    ui.openSearch();
    const input = document.getElementById('searchInputTop');
    if(input) input.focus();
  }

  /* ===========================
     ì´ˆê¸° ë¡œë“œ
     =========================== */
  (function init() {
    bindEvents();
    loadHomeChunk();
    renderNavList();
    // ì´ˆê¸° íˆìŠ¤í† ë¦¬ ìƒíƒœ
    history.replaceState({ page: 'home' }, '', '/');
  })();

  /* ===========================
     ë””ë²„ê·¸ ìœ í‹¸ ë…¸ì¶œ (ê°œë°œ í¸ì˜)
     =========================== */
  window.__IMPACT = {
    loadHomeChunk,
    loadCategoryPage,
    loadEditors,
    openPostOverlayById,
    doSearch
  };

  /* =========================================================================
     Netlify function (ì˜ˆì‹œ, ì„œë²„ì¸¡ì— ë„£ì„ ì½”ë“œ - í´ë¼ì´ì–¸íŠ¸ì— ë‘ì§€ ë§ˆì„¸ìš”)
     ì˜ˆì‹œ ì½”ë“œ(ì„¤ì¹˜/ë°°í¬ìš©; ì•„ë˜ëŠ” ì„¤ëª…ìš© - í´ë¼ì´ì–¸íŠ¸ì—ì„œ ì‹¤í–‰í•˜ì§€ ë§ˆì„¸ìš”):
     ----------------------------------------------------------
     export async function handler(event, context) {
       const WP_SITE = "impactceo0.wordpress.com";
       const ACCESS_TOKEN = process.env.WP_TOKEN;
       const path = event.queryStringParameters.path;
       if (!path) return { statusCode:400, body: JSON.stringify({error:"Missing path"}) };
       const url = `https://public-api.wordpress.com/wp/v2/sites/${WP_SITE}/${path}`;
       try {
         const res = await fetch(url, { headers: { "Authorization": `Bearer ${ACCESS_TOKEN}` }});
         const data = await res.text();
         return { statusCode: res.status, headers: { "Content-Type": "application/json" }, body: data };
       } catch (err) { return { statusCode:500, body: JSON.stringify({ error: err.message }) }; }
     }
     ----------------------------------------------------------
     ========================================================================= */
  </script>

  <!-- End of file content -->
</body>
</html>
