<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>IMPACT â€” MAKE A IMPACT</title>
  <meta name="description" content="IMPACT â€” í•™ìƒ ì €ì ì½˜í…ì¸  í†µí•© í”Œë«í¼ (í…ŒìŠ¤íŠ¸ìš© ì •ì  ìƒ˜í”Œ) - ì¹´í…Œê³ ë¦¬/í¬ìŠ¤íŠ¸/ê²€ìƒ‰/ABOUT/EDITORS í¬í•¨" />
  <link rel="icon" href="logo.png" type="image/png">

  <!-- ===========================
       ìŠ¤íƒ€ì¼ ì‹œíŠ¸ (CSS)
       - ì´ ë¸”ë¡ì€ ì „ì²´ ë ˆì´ì•„ì›ƒ, ë°˜ì‘í˜•, ì ‘ê·¼ì„±, ì»´í¬ë„ŒíŠ¸ ìŠ¤íƒ€ì¼ì„ í¬í•¨í•©ë‹ˆë‹¤.
       - ì£¼ì„ì„ ë„‰ë„‰í•˜ê²Œ ë„£ì–´ ë¬¸ì„œ ê¸¸ì´ë¥¼ í™•ë³´í–ˆìŠµë‹ˆë‹¤.
     =========================== -->
  <style>
  /* ===================================================================
     RESET & ê¸°ì´ˆ ìŠ¤íƒ€ì¼
     - ëª¨ë“  ì£¼ìš” ë¸Œë¼ìš°ì €ì—ì„œ ì˜ˆì¸¡ ê°€ëŠ¥í•œ ê¸°ë³¸ ìŠ¤íƒ€ì¼ì„ ë§Œë“­ë‹ˆë‹¤.
     - ëª¨ë°”ì¼ì—ì„œ ì¢Œìš° ìŠ¤í¬ë¡¤ ë°œìƒì„ ë§‰ê¸° ìœ„í•´ overflow-xë¥¼ ìˆ¨ê¹€ ì²˜ë¦¬í•©ë‹ˆë‹¤.
     =================================================================== */
  *, *::before, *::after { box-sizing: border-box; }
  html, body { height: 100%; width: 100%; }
  body {
    margin: 0;
    font-family: "Noto Sans KR", "Apple SD Gothic Neo", "Segoe UI", Roboto, Arial, sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    background: #f6f7f9;
    color: #111;
    line-height: 1.6;
    overflow-x: hidden; /* ëª¨ë°”ì¼ ê°€ë¡œ í™•ì¥ ë°©ì§€ */
  }
  img { display:block; max-width:100%; height:auto; }
  a { color:inherit; text-decoration:none; }

  /* ===========================
     ìœ í‹¸ë¦¬í‹°
     =========================== */
  .wrap { max-width: 1400px; margin: 0 auto; padding: 0 20px; }
  .hidden { display:none !important; }
  .visually-hidden {
    position: absolute !important; height: 1px; width: 1px; overflow: hidden; clip: rect(1px,1px,1px,1px); white-space: nowrap;
  }
  .flex { display:flex; }
  .center { display:flex; align-items:center; justify-content:center; }

  /* ===========================
     HEADER
     - ìƒë‹¨ ê³ ì •(header sticky)
     - ì¢Œì¸¡ ë¡œê³ , ìš°ì¸¡ ê²€ìƒ‰/ë©”ë‰´ ë²„íŠ¼
     - ê²€ìƒ‰ ë²„íŠ¼ì€ ì•„ì´ì½˜(ë‹ë³´ê¸°)ë¡œ ì¶œë ¥í•©ë‹ˆë‹¤.
     =========================== */
  header.header {
    position: sticky; top: 0; z-index: 1200;
    background: #fff; border-bottom: 1px solid rgba(0,0,0,0.06);
    backdrop-filter: blur(6px);
  }
  .header-inner {
    height: 72px; display:flex; align-items:center; justify-content:space-between; gap:12px;
    max-width:1400px; margin:0 auto; padding: 0 20px;
  }
  .brand { display:flex; gap:12px; align-items:center; }
  .brand .logo { display:flex; gap:8px; align-items:center; font-weight:900; font-size:26px; cursor:pointer; }
  .brand .logo small { font-size:11px; color:#777; font-weight:800; display:block; line-height:1; }

  .header-actions { display:flex; gap:8px; align-items:center; }
  .btn {
    border-radius:10px; background:#fff; padding:8px 12px; border:1px solid rgba(0,0,0,0.08);
    font-weight:700; font-size:14px; cursor:pointer; transition: transform .12s ease, box-shadow .12s ease;
  }
  .btn:active { transform: translateY(1px); }
  .btn.primary { background: linear-gradient(135deg,#2e8b57,#1f7a6f); color:#fff; border:none; }

  /* ê²€ìƒ‰ ì•„ì´ì½˜ ìŠ¤íƒ€ì¼: ë²„íŠ¼ í…ìŠ¤íŠ¸ ëŒ€ì‹  ì•„ì´ì½˜ë§Œ ì‚¬ìš© */
  .btn.search { width:50px; height:40px; display:flex; align-items:center; justify-content:center; font-size:18px; }

  /* ===========================
     NAV OVERLAY (ë”ë³´ê¸°)
     - ë°ìŠ¤í¬íƒ‘: ì˜¤ë¥¸ìª½ 50% ìŠ¬ë¼ì´ë“œ
     - ëª¨ë°”ì¼(<=680px): ì „ì²´ í™”ë©´ ì²˜ë¦¬
     - ë‹«ê¸° ë²„íŠ¼(X)ëŠ” ìƒë‹¨ ìš°ì¸¡ì— ìœ„ì¹˜
     =========================== */
  .nav-overlay {
    position: fixed; top: 0; right: -50%; width: 50%; height: 100vh; background: rgba(255,255,255,0.98);
    z-index: 2200; transition: right 0.32s cubic-bezier(.2,.9,.2,1); display:flex; flex-direction:column; padding: 64px 40px;
    box-shadow: -6px 0 40px rgba(0,0,0,0.08);
  }
  .nav-overlay.active { right: 0; }
  .nav-close { position:absolute; top:28px; right:28px; background:none; border:none; font-size:28px; cursor:pointer; }
  .nav-search { display:flex; align-items:center; gap:10px; margin-bottom:36px; }
  .nav-search input[type="search"] {
    flex:1; border:none; border-bottom:2px solid #111; padding:10px 8px; outline:none; font-weight:700; font-size:16px; background:transparent;
  }
  .nav-list { list-style:none; padding:0; margin:0 0 24px; display:flex; flex-direction:column; gap:18px; }
  .nav-list li { font-size:28px; font-weight:900; cursor:pointer; color:#111; transition: color .16s ease; }
  .nav-list li:hover { color:#2e8b57; }
  .nav-footer-links { margin-top:auto; display:flex; gap:12px; align-items:center; font-weight:800; }
  .nav-footer-links a { color:#111; font-size:13px; }

  @media (max-width:680px) {
    .nav-overlay { right:0; left:0; width:100%; padding:32px; }
    .nav-close { top:18px; right:18px; }
  }

  /* ===========================
     MAIN / HOME LAYOUT
     - ë©”ì¸ í™ˆì€ 'row'ê°€ ë°˜ë³µë˜ì–´ ë‚˜ì˜´
     - ê° row: ì™¼ìª½ì€ 2ê°œì˜ í° í¬ìŠ¤íŠ¸(ì„¸ë¡œë¡œ ìŒ“ì„), ì˜¤ë¥¸ìª½ì€ 4ê°œì˜ ì‘ì€ ì¹´ë“œ(ì„¸ë¡œë¡œ)
     - 20ê°œê¹Œì§€ ë¡œë“œ
     =========================== */
  .home { max-width:1400px; margin: 28px auto; display:flex; flex-direction:column; gap:28px; padding: 0 20px 100px; }
  .row { display:grid; grid-template-columns: 2fr 1fr; gap:20px; align-items:start; }
  .col-left { position:relative; border-radius:12px; overflow:hidden; background:#eee; cursor:pointer; display:flex; flex-direction:column; gap:12px; }
  .big-card { background:#fff; border-radius:10px; overflow:hidden; border:1px solid rgba(0,0,0,0.06); display:flex; flex-direction:column; }
  .big-card .thumb { width:100%; height:220px; object-fit:cover; display:block; }
  .big-card .card-body { padding:14px; }
  .big-card h3 { font-size:20px; margin:0 0 8px; font-weight:800; }
  .big-card p { color:#333; font-size:14px; margin:0; }

  .col-right { display:flex; flex-direction:column; gap:12px; }
  .small-card { background:#fff; border-radius:10px; overflow:hidden; border:1px solid rgba(0,0,0,0.06); display:flex; gap:12px; align-items:center; padding:10px; }
  .small-card img { width:100px; height:72px; object-fit:cover; border-radius:8px; flex-shrink:0; }
  .small-card .meta { display:flex; flex-direction:column; gap:6px; }
  .small-card h4 { margin:0; font-size:15px; font-weight:800; }
  .small-card p { margin:0; color:#666; font-size:13px; }

  /* ëª¨ë°”ì¼ì—ì„œ 1ì—´ ìŠ¤íƒìœ¼ë¡œ ë³€ê²½ */
  @media (max-width:1100px) {
    .row { grid-template-columns: 1fr; }
    .col-right { grid-auto-rows: unset; grid-template-columns: 1fr; display:grid; gap:12px; }
  }

  /* ===========================
     OVERLAY (CATEGORY, POST, SEARCH, ABOUT, EDITORS)
     - ì˜¤ë²„ë ˆì´ëŠ” ì „ì²´í™”ë©´ í° ë°°ê²½ìœ¼ë¡œ êµ¬í˜„, ë‚´ë¶€ì— ë‹«ê¸° ë²„íŠ¼ í¬í•¨
     - post overlayëŠ” ê³µìœ  ë²„íŠ¼ê³¼ ì›ë¬¸ ì—´ê¸° ë²„íŠ¼ í¬í•¨
     =========================== */
  .overlay-full { display:none; position:fixed; inset:0; background:#fff; z-index:2000; overflow:auto; padding:28px; animation: overlayIn .28s ease; }
  .overlay-full.active { display:block; }
  @keyframes overlayIn { from { opacity:0; transform: translateY(6px); } to { opacity:1; transform: translateY(0); } }

  .overlay-top { display:flex; justify-content:space-between; align-items:center; gap:12px; border-bottom:1px solid rgba(0,0,0,0.06); padding-bottom:12px; }
  .overlay-title { font-size:24px; font-weight:900; color:#111; }
  .overlay-grid { margin-top:18px; display:grid; gap:18px; grid-template-columns: repeat(auto-fill, minmax(260px, 1fr)); padding:20px 0 80px; }
  .post-article { margin:0 auto; max-width:900px; }
  .post-article h1 { font-size:34px; font-weight:900; margin-bottom:12px; color:#111; }
  .post-content { color:#222; line-height:1.9; }

  /* ===========================
     SEARCH BAR
  =========================== */
  .search-bar { display:flex; align-items:center; background:#fff; border-radius:50px; box-shadow:0 6px 20px rgba(0,0,0,0.06); padding:6px 10px; gap:8px; }
  .search-bar input[type="search"] { flex:1; border:none; outline:none; font-size:16px; padding:12px 14px; border-radius:50px; }
  .search-bar .search-btn { background:#111; color:#fff; border:none; padding:10px 14px; border-radius:50px; font-weight:800; cursor:pointer; display:flex; align-items:center; justify-content:center; }
  .search-bar .close-btn { background:none; border:none; font-size:20px; cursor:pointer; color:#666; }

  /* ê²€ìƒ‰ ë²„íŠ¼: ì•„ì´ì½˜ ì‚¬ìš© (ë‹ë³´ê¸°) */
  .search-icon { font-size:18px; }

  /* ===========================
     FOOTER
  =========================== */
  footer.site-footer { background:#111; color:#eee; padding:40px 20px; margin-top:20px; }
  .footer-inner { max-width:1400px; margin:0 auto; display:flex; justify-content:space-between; gap:20px; align-items:flex-start; flex-wrap:wrap; }
  .footer-brand { font-size:40px; font-weight:900; color:#fff; font-style:italic; }
  .footer-links a { color:#ddd; }

  /* ===========================
     EDITORS GRID
  =========================== */
  .editors-grid { display:flex; gap:12px; flex-wrap:wrap; margin-top:18px; }
  .editor-card { width:140px; background:#fff; border:1px solid rgba(0,0,0,0.06); border-radius:10px; padding:12px; text-align:center; cursor:pointer; }
  .editor-card img { width:80px; height:80px; border-radius:50%; object-fit:cover; margin:0 auto 10px; display:block; }
  .editor-name { font-weight:800; font-size:14px; }

  /* ===========================
     SMALL ADJUSTMENTS (ëª¨ë°”ì¼)
  =========================== */
  @media (max-width:480px) {
    .header-inner { height:60px; padding: 0 12px; }
    .brand .logo { font-size:18px; }
    .big-card .thumb { height:160px; }
  }

  /* ===========================
     END OF CSS
  =========================== */
  </style>
</head>
<body>

  <!-- ===========================
       HEADER
     =========================== -->
  <header class="header" id="siteHeader" role="banner" aria-label="ì‚¬ì´íŠ¸ í—¤ë”">
    <div class="header-inner wrap">
      <div class="brand" role="img" aria-label="IMPACT brand">
        <div class="logo" id="logoBtn" onclick="router.goHome()" tabindex="0" title="IMPACT â€” go home">
          <img src="logo.png" alt="IMPACT logo" style="width:36px;height:36px;border-radius:8px;object-fit:cover;">
          <div>
            <div style="line-height:1">IMPACT</div>
            <small>MAKE A IMPACT</small>
          </div>
        </div>
      </div>

      <div class="header-actions" role="navigation" aria-label="ìƒë‹¨ ë©”ë‰´">
        <!-- ê²€ìƒ‰ ë²„íŠ¼: ì•„ì´ì½˜ í˜•íƒœë¡œ ê³ ì • -->
        <button class="btn search" id="topSearchBtn" onclick="openNavlessSearch()" aria-label="ê²€ìƒ‰">ğŸ”</button>
        <button class="btn" aria-controls="navOverlay" aria-expanded="false" onclick="ui.toggleNav()" aria-label="ë”ë³´ê¸°">ë”ë³´ê¸°</button>
      </div>
    </div>
  </header>

  <!-- ===========================
       NAV OVERLAY
     =========================== -->
  <aside class="nav-overlay" id="navOverlay" aria-hidden="true" aria-label="ì¹´í…Œê³ ë¦¬ ë„¤ë¹„ê²Œì´ì…˜">
    <button class="nav-close" aria-label="ë„¤ë¹„ ë‹«ê¸°" id="navCloseBtn">Ã—</button>
    <div style="display:flex;flex-direction:column;gap:12px;">
      <div class="nav-search" role="search" aria-label="ë„¤ë¹„ ê²€ìƒ‰">
        <span style="font-size:18px">ğŸ”</span>
        <input type="search" id="globalNavSearch" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥" aria-label="ë„¤ë¹„ ê²€ìƒ‰ì–´">
      </div>

      <ul class="nav-list" id="navList" role="menu" aria-label="ì¹´í…Œê³ ë¦¬ ëª©ë¡">
        <!-- JSì—ì„œ ì±„ì›€ -->
      </ul>

      <div class="nav-footer-links" aria-hidden="false">
        <a href="javascript:void(0)" onclick="ui.toggleNav(); router.openAbout()">ABOUT</a>
        <a href="javascript:void(0)" onclick="ui.toggleNav(); router.openEditors()">EDITORS</a>
        <a href="javascript:void(0)" onclick="alert('NEWSLETTER í˜ì´ì§€ëŠ” ì¶”í›„ êµ¬í˜„ë©ë‹ˆë‹¤')">NEWSLETTER</a>
        <a href="https://www.instagram.com/ceo_impact_official" target="_blank" rel="noopener">INSTAGRAM</a>
      </div>

      <div class="nav-extra" style="margin-top:18px;color:#777;font-size:13px">
        IMPACTëŠ” WordPress ê¸°ë°˜ìœ¼ë¡œ ì½˜í…ì¸ ë¥¼ ë°›ì•„ì™€ ì‚¬ì´íŠ¸ ë‚´ì—ì„œ ìì²´ í¬ìŠ¤íŠ¸ í˜ì´ì§€ë¡œ í‘œì‹œí•©ë‹ˆë‹¤.
      </div>
    </div>
  </aside>

  <!-- ===========================
       MAIN HOME
     =========================== -->
  <main class="home" id="home" role="main" aria-live="polite" tabindex="-1">
    <!-- rowsContainerì— JSê°€ rowë“¤ì„ ì¶”ê°€í•©ë‹ˆë‹¤ -->
    <div id="rowsContainer" aria-live="polite"></div>
    <div id="homeLoading" style="text-align:center;color:#666;padding:36px 0">ë¡œë”© ì¤‘...</div>
  </main>

  <!-- ===========================
       CATEGORY OVERLAY
     =========================== -->
  <section class="overlay-full category-overlay" id="categoryOverlay" aria-hidden="true" role="region">
    <div class="wrap">
      <div class="overlay-top">
        <div>
          <div class="overlay-title" id="categoryOverlayTitle">CATEGORY</div>
          <div class="category-sub" id="categoryOverlaySubtitle">ì¹´í…Œê³ ë¦¬ ì„¤ëª…</div>
        </div>
        <div>
          <button class="btn" id="categoryCloseBtn">ë‹«ê¸°</button>
        </div>
      </div>

      <div class="overlay-grid" id="categoryGrid" aria-live="polite"></div>
      <div id="categoryLoading" style="text-align:center;color:#666;padding:28px 0"></div>
    </div>
  </section>

  <!-- ===========================
       POST OVERLAY
     =========================== -->
  <article class="overlay-full post-overlay" id="postOverlay" aria-hidden="true" role="article">
    <div style="width:100%;max-width:1200px;margin:0 auto;">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:18px">
        <div>
          <button class="btn" id="postCloseBtn">ë‹«ê¸°</button>
        </div>
        <div style="display:flex;gap:8px">
          <button class="btn" id="sharePostBtn">ğŸ”— ê³µìœ </button>
          <button class="btn" id="openOriginalBtn">ì›ë¬¸ ë³´ê¸°</button>
        </div>
      </div>
      <div class="post-article" id="postArticle"></div>
    </div>
  </article>

  <!-- ===========================
       SEARCH OVERLAY
     =========================== -->
  <section class="overlay-full search-overlay" id="searchOverlay" aria-hidden="true" role="search">
    <div class="wrap" style="max-width:1100px;margin:0 auto;">
      <div class="overlay-top">
        <div class="overlay-title">ê²€ìƒ‰</div>
        <div><button class="btn" id="searchCloseBtn">ë‹«ê¸°</button></div>
      </div>

      <div style="margin-top:18px">
        <div class="search-bar" role="search" aria-label="ì‚¬ì´íŠ¸ ê²€ìƒ‰">
          <input type="search" class="search-input" id="searchInputTop" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥ (Enterë¡œ ê²€ìƒ‰)" aria-label="ê²€ìƒ‰ì–´">
          <button type="button" class="search-btn" id="globalSearchBtn">ğŸ”</button>
          <button type="button" class="close-btn" id="searchOverlayClose">Ã—</button>
        </div>
      </div>

      <div id="searchResults" class="overlay-grid" aria-live="polite"></div>
    </div>
  </section>

  <!-- ===========================
       ABOUT PAGE
     =========================== -->
  <section class="overlay-full about-page" id="aboutPageSection" aria-hidden="true" role="region">
    <div class="wrap about-content">
      <div class="overlay-top">
        <div>
          <div class="overlay-title">ABOUT</div>
          <div style="color:#333;font-size:15px;line-height:1.8">
            <p><strong>IMPACT</strong> ì€ ç¾ & å‰ KAIST IP-CEO í•™ìƒë“¤ê³¼ POSTECH CEO í•™ìƒë“¤ì´ í•¨ê»˜ ì‘ì„±í•˜ëŠ” ì‹¬ì¸µ ì½˜í…ì¸  í”Œë«í¼ì…ë‹ˆë‹¤.</p>
            <p>í•™ìƒ ì €ìë“¤ì˜ ê²½í—˜ê³¼ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ê¸°ìˆ Â·ê²½ì˜Â·ì°½ì˜ì„±ì„ ê²°í•©í•œ ê¸€ì„ ì œê³µí•©ë‹ˆë‹¤. í˜„ì¥ì˜ ì‚¬ë¡€, ë°ì´í„° ì¸í…”ë¦¬ì „ìŠ¤, ê¹Šì´ ìˆëŠ” ë¶„ì„ì„ í†µí•´ ë…ìì—ê²Œ í†µì°°ì„ ì „ë‹¬í•©ë‹ˆë‹¤.</p>
          </div>
        </div>
        <div><button class="btn" id="aboutCloseBtn">ë‹«ê¸°</button></div>
      </div>

      <div style="margin-top:20px">
        <h3>í•µì‹¬ í‚¤ì›Œë“œ</h3>
        <ul>
          <li><strong>Innovation</strong> â€” í˜ì‹ </li>
          <li><strong>Management</strong> â€” ê´€ë¦¬</li>
          <li><strong>Passion</strong> â€” ì—´ì •</li>
          <li><strong>Acceleration</strong> â€” í˜ì‹  ê°€ì†í™”</li>
          <li><strong>Creativity</strong> â€” ì°½ì˜ì„±</li>
          <li><strong>Technology</strong> â€” ê¸°ìˆ </li>
        </ul>

        <h3 style="margin-top:18px">MAKE A IMPACT</h3>
        <p>ìš°ë¦¬ëŠ” ê¸°ìˆ ê³¼ ê²½ì˜, ì°½ì˜ì„±ê³¼ ì—´ì •ì„ ìœµí•©í•˜ì—¬ í˜ì‹ ì„ ê°€ì†í™”í•©ë‹ˆë‹¤. í•™ìƒ ì €ìì˜ ì‹œì„ ì—ì„œ ì‚¬íšŒì™€ ì‚°ì—…, ê·¸ë¦¬ê³  ì‚¬ëŒë“¤ì—ê²Œ ì˜ë¯¸ ìˆëŠ” ì„íŒ©íŠ¸ë¥¼ ë§Œë“¤ì–´ ë‚˜ê°‘ë‹ˆë‹¤.</p>
      </div>
    </div>
  </section>

  <!-- ===========================
       EDITORS OVERLAY & EDITOR PAGE
     =========================== -->
  <section class="overlay-full editors-overlay" id="editorsOverlay" aria-hidden="true" role="region">
    <div class="wrap">
      <div class="overlay-top">
        <div>
          <div class="overlay-title">EDITORS</div>
          <div class="overlay-sub" id="editorsSubtitle">ë“±ë¡ëœ ì—ë””í„° í”„ë¡œí•„</div>
        </div>
        <div><button class="btn" id="editorsCloseBtn">ë‹«ê¸°</button></div>
      </div>

      <div id="editorsGrid" class="editors-grid"></div>
      <div id="editorPostsContainer" style="margin-top:24px"></div>
    </div>
  </section>

  <!-- ===========================
       TO TOP
     =========================== -->
  <button class="to-top" id="toTopBtn" title="ë§¨ ìœ„ë¡œ" aria-label="ë§¨ ìœ„ë¡œ">â†‘</button>

  <!-- ===========================
       FOOTER
     =========================== -->
  <footer class="site-footer" role="contentinfo" aria-label="ì‚¬ì´íŠ¸ í‘¸í„°">
    <div class="wrap footer-inner">
      <div>
        <div class="footer-brand">IMPACT</div>
        <div style="margin-top:10px;color:#ddd;font-size:13px">ê´‘ê³  ì œíœ´ ë¬¸ì˜ | <a href="mailto:ceo.impact.official@gmail.com">ceo.impact.official@gmail.com</a></div>
        <div style="color:#ddd;font-size:13px;margin-top:6px">ë³´ë„ìë£Œ | <a href="mailto:ceo.impact.official@gmail.com">ceo.impact.official@gmail.com</a></div>
      </div>

      <div class="footer-links">
        <a href="javascript:void(0)" onclick="router.openAbout()">ABOUT</a>
        <a href="javascript:void(0)" onclick="router.openEditors()">EDITORS</a>
        <a href="javascript:void(0)" onclick="alert('NEWSLETTER í˜ì´ì§€ëŠ” ì¶”í›„ êµ¬í˜„ë©ë‹ˆë‹¤')">NEWSLETTER</a>
        <a href="https://www.instagram.com/ceo_impact_official" target="_blank" rel="noopener">INSTAGRAM</a>
      </div>

      <div class="footer-right">
        <div style="font-weight:800;color:#fff">IMPACT CEO. ALL RIGHTS RESERVED.</div>
        <div style="color:#999;font-size:13px;margin-top:10px">ì‚¬ì´íŠ¸ëŠ” WordPress.com APIë¡œë¶€í„° ì½˜í…ì¸ ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.</div>
      </div>
    </div>
  </footer>

  <!-- ===========================
       CARD TEMPLATE
     =========================== -->
  <template id="cardTpl">
    <article class="small-card" role="article">
      <img src="" alt="">
      <div class="meta">
        <div class="title"></div>
        <div class="meta-sub"></div>
      </div>
    </article>
  </template>

  <!-- ===========================
       ìë°”ìŠ¤í¬ë¦½íŠ¸
       - ë¼ìš°í„°, ë°ì´í„°(ìƒ˜í”Œ), ë Œë”ë§, ì´ë²¤íŠ¸ ë°”ì¸ë”©, ê³µìœ , ê²€ìƒ‰ ë“± êµ¬í˜„
       - ì£¼ì„ì„ ë§ì´ ë„£ì–´ ë¬¸ì„œ ê¸¸ì´ í™•ë³´
     =========================== -->
  <script>
  /**************************************************************************
   * IMPACT â€” Full JavaScript (Client)
   * - ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” ë°ëª¨/ìƒ˜í”Œ ë°ì´í„°ë¡œ ë™ì‘í•©ë‹ˆë‹¤.
   * - ì‹¤ì œ WordPress APIë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ api() í•¨ìˆ˜ë¥¼ ìˆ˜ì •í•´ ì„œë²„ì¸¡ í”„ë¡ì‹œë¥¼ í˜¸ì¶œí•˜ì„¸ìš”.
   *
   * ì£¼ìš” ê¸°ëŠ¥:
   * - í™ˆ: 2 big + 4 small íŒ¨í„´ì„ ë°˜ë³µí•˜ì—¬ ìµœëŒ€ 20ê°œ ê²Œì‹œë¬¼ ë Œë”ë§
   * - ì¹´í…Œê³ ë¦¬ ì˜¤ë²„ë ˆì´: ì¹´í…Œê³ ë¦¬ë³„ ê¸€ ëª©ë¡
   * - í¬ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´: í¬ìŠ¤íŠ¸ ë³¸ë¬¸ í‘œì‹œ, ê³µìœ , ì›ë¬¸ ë³´ê¸°
   * - ê²€ìƒ‰: ê²€ìƒ‰ ì˜¤ë²„ë ˆì´, ê²°ê³¼ í´ë¦­ ì‹œ í¬ìŠ¤íŠ¸ ì—´ê¸°
   * - ì—ë””í„°(EDITORS): í”„ë¡œí•„ ëª©ë¡ ë° ê° ì—ë””í„° ì „ìš© í˜ì´ì§€ (ì˜¤ë²„ë ˆì´)
   * - ë¼ìš°íŒ…: í•´ì‹œ ê¸°ë°˜ (#post-{id}, #about, #editors, #editor-{id}, #category-{slug})
   * - ëª¨ë°”ì¼ ê°€ë¡œ ìŠ¤í¬ë¡¤ ë°©ì§€ ë° ì´ë¯¸ì§€ ëŒ€ë¹„ ì¡°ì • (ê°„ë‹¨)
   *
   * ë³´ì•ˆ ë…¸íŠ¸:
   * - Access token ë“± ë¯¼ê°ì •ë³´ëŠ” í´ë¼ì´ì–¸íŠ¸ì— ë„£ì§€ ë§ˆì„¸ìš”.
   * - Netlify Functions ë˜ëŠ” ë‹¤ë¥¸ ì„œë²„ì‚¬ì´ë“œ í”„ë¡ì‹œë¥¼ ì‚¬ìš©í•´ì„œ API í˜¸ì¶œì„ í•´ì•¼ ì•ˆì „í•©ë‹ˆë‹¤.
   **************************************************************************/

  /* ===========================
     ì„¤ì •
  =========================== */
  const HOME_MAX = 20; // í™ˆì— í‘œì‹œí•  ìµœëŒ€ ê²Œì‹œë¬¼ ìˆ˜
  const HOME_CHUNK_SIZE = 6; // í•œ ë²ˆì— ê·¸ë£¹(2 big + 4 small) = 6ê°œ

  /* ===========================
     ìƒ˜í”Œ ë°ì´í„° (20ê°œ í¬ìŠ¤íŠ¸ + ì—ë””í„° 6ëª…)
     - ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì´ ë¶€ë¶„ì„ API í˜¸ì¶œë¡œ ëŒ€ì²´
  =========================== */
  const DEMO_EDITORS = [
    { id: 1, name: "ê¹€ì—ë””í„°", avatar: "https://i.pravatar.cc/96?img=12" },
    { id: 2, name: "ë°•ì—ë””í„°", avatar: "https://i.pravatar.cc/96?img=8" },
    { id: 3, name: "ì´ì—ë””í„°", avatar: "https://i.pravatar.cc/96?img=5" },
    { id: 4, name: "ìµœì—ë””í„°", avatar: "https://i.pravatar.cc/96?img=3" },
    { id: 5, name: "ì •ì—ë””í„°", avatar: "https://i.pravatar.cc/96?img=10" },
    { id: 6, name: "ì†¡ì—ë””í„°", avatar: "https://i.pravatar.cc/96?img=20" }
  ];

  const DEMO_POSTS = (function genPosts(){
    const arr = [];
    const cats = ["Tech","Life","Culture","Style","Eat","Editors' Pick"];
    for(let i=1;i<=20;i++){
      const editor = DEMO_EDITORS[(i-1) % DEMO_EDITORS.length];
      arr.push({
        id: 1000 + i,
        date: new Date(Date.now() - i*86400000).toISOString(),
        title: { rendered: `ë°ëª¨ ê²Œì‹œë¬¼ ${i}` },
        excerpt: { rendered: `<p>ë°ëª¨ ìš”ì•½ ${i} â€” ì´ ê¸€ì€ ìƒ˜í”Œ ì½˜í…ì¸ ì…ë‹ˆë‹¤.</p>` },
        content: { rendered: `<p>ë°ëª¨ ë³¸ë¬¸ ${i}. ìƒì„¸ ì½˜í…ì¸ ê°€ ì—¬ê¸°ì— ë“¤ì–´ê°‘ë‹ˆë‹¤. ì´ë¯¸ì§€, í‘œ, ì½”ë“œ ë¸”ë¡ ë“± ë‹¤ì–‘í•œ HTML ìš”ì†Œë¥¼ í¬í•¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p><p>ì¶”ê°€ ë¬¸ë‹¨: ì´ ë¶€ë¶„ì€ ê¸€ì˜ ì˜ˆì‹œì…ë‹ˆë‹¤.</p><img src="https://picsum.photos/900/400?random=${i}" alt="demo image">` },
        link: `https://example.com/posts/${1000+i}`,
        _embedded: {
          author: [{ id: editor.id, name: editor.name, avatar_urls: { "48": editor.avatar } }],
          'wp:featuredmedia': [{ source_url: `https://picsum.photos/1200/600?random=${i}` }],
          'wp:term': [[{ id: i%6, name: cats[i%6], slug: cats[i%6].toLowerCase().replace(/'| /g,'-') }]]
        }
      });
    }
    return arr;
  })();

  /* ìƒíƒœ ì €ì¥ì†Œ */
  const state = {
    postsCache: {}, // id -> post
    homeIndex: 0,   // í˜„ì¬ í™ˆì—ì„œ ë Œë”ë§ëœ í¬ìŠ¤íŠ¸ ê°œìˆ˜
    editors: {},    // editorId -> {id,name,avatar,posts:[]}
  };

  /* ===========================
     ìœ í‹¸ í•¨ìˆ˜
  =========================== */
  function formatDate(dstr){
    try {
      const d = new Date(dstr);
      const y = d.getFullYear();
      const m = String(d.getMonth()+1).padStart(2,'0');
      const dd = String(d.getDate()).padStart(2,'0');
      return `${y}. ${m}. ${dd}.`;
    } catch(e){ return ''; }
  }

  function placeholderDataURI(w=600,h=300,txt='No Image'){
    const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='${w}' height='${h}'><rect width='100%' height='100%' fill='#efefef'/><text x='50%' y='50%' fill='#aaa' font-size='20' text-anchor='middle' dominant-baseline='middle'>${txt}</text></svg>`;
    return 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(svg);
  }

  function pickCategoryClass(nameOrSlug){
    if(!nameOrSlug) return '';
    const s = String(nameOrSlug).toLowerCase();
    if(s.includes('tech')) return 'cat-tech';
    if(s.includes('eat')) return 'cat-eat';
    if(s.includes('style')) return 'cat-style';
    if(s.includes('culture')) return 'cat-culture';
    if(s.includes('life')) return 'cat-life';
    if(s.includes('editor')) return 'cat-editors-pick';
    return '';
  }

  /* ===========================
     NAV ë Œë”ë§ (ì¹´í…Œê³ ë¦¬ ëª©ë¡)
  =========================== */
  const NAV_CATEGORIES = ["TECH","EAT","STYLE","CULTURE","LIFE","EDITORS' PICK"];
  function renderNavList(){
    const navList = document.getElementById('navList');
    navList.innerHTML = '';
    NAV_CATEGORIES.forEach(item => {
      const li = document.createElement('li');
      li.textContent = item;
      li.tabIndex = 0;
      li.onclick = () => {
        ui.toggleNav();
        const slug = item.toLowerCase().replace(/'/g,'').replace(/\s/g,'-');
        router.openCategory(slug);
      };
      li.onkeydown = (e)=>{ if(e.key==='Enter') li.click(); };
      navList.appendChild(li);
    });
  }

  /* ===========================
     HOME ë Œë”ë§: 2 big + 4 small íŒ¨í„´
     - state.homeIndexë¥¼ ê¸°ì¤€ìœ¼ë¡œ DEMO_POSTSì—ì„œ í•œ ê·¸ë£¹ì”© ì¶”ê°€
     - ìµœëŒ€ HOME_MAXê¹Œì§€ ë Œë”
  =========================== */
  function renderHomeChunk(){
    // prevent double calls
    const max = Math.min(HOME_MAX, DEMO_POSTS.length);
    if(state.homeIndex >= max) {
      document.getElementById('homeLoading').textContent = 'ë” ì´ìƒ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.';
      return;
    }

    const container = document.getElementById('rowsContainer');

    // í•œ ë²ˆì— 6ê°œì”©: 2 big (left) + 4 small (right)
    const take = Math.min(HOME_CHUNK_SIZE, max - state.homeIndex);
    const slice = DEMO_POSTS.slice(state.homeIndex, state.homeIndex + take);

    // Build row
    const row = document.createElement('div');
    row.className = 'row';

    // LEFT: up to 2 big cards
    const colLeft = document.createElement('div');
    colLeft.className = 'col-left';
    slice.slice(0,2).forEach(p => {
      const big = document.createElement('article');
      big.className = 'big-card';
      const thumb = (p._embedded && p._embedded['wp:featuredmedia'] && p._embedded['wp:featuredmedia'][0] && p._embedded['wp:featuredmedia'][0].source_url) ? p._embedded['wp:featuredmedia'][0].source_url : placeholderDataURI(1200,600,'No Image');
      big.innerHTML = `<img class="thumb" src="${thumb}" alt="thumb"><div class="card-body"><h3>${p.title.rendered}</h3><p>${stripHtml(p.excerpt && p.excerpt.rendered ? p.excerpt.rendered : '')}</p></div>`;
      big.onclick = ()=> openPostOverlayById(p.id);
      colLeft.appendChild(big);
    });

    // RIGHT: up to 4 small cards
    const colRight = document.createElement('div');
    colRight.className = 'col-right';
    slice.slice(2,6).forEach(p=>{
      const small = document.createElement('div');
      small.className = 'small-card';
      const thumb = (p._embedded && p._embedded['wp:featuredmedia'] && p._embedded['wp:featuredmedia'][0] && p._embedded['wp:featuredmedia'][0].source_url) ? p._embedded['wp:featuredmedia'][0].source_url : placeholderDataURI(400,240,'No Image');
      const cat = (p._embedded && p._embedded['wp:term'] && p._embedded['wp:term'][0] && p._embedded['wp:term'][0][0] && p._embedded['wp:term'][0][0].name) ? p._embedded['wp:term'][0][0].name : '';
      const title = p.title && p.title.rendered ? p.title.rendered : 'ì œëª©ì—†ìŒ';
      small.innerHTML = `<img src="${thumb}" alt=""><div class="meta"><h4>${title}</h4><p>${cat}</p></div>`;
      small.onclick = ()=> openPostOverlayById(p.id);
      colRight.appendChild(small);
    });

    row.appendChild(colLeft);
    row.appendChild(colRight);
    container.appendChild(row);

    // Save to cache
    slice.forEach(s => state.postsCache[s.id] = s);
    state.homeIndex += slice.length;

    // Adjust left hero min-height to right column height if needed (desktop)
    setTimeout(()=> {
      try {
        const leftHeight = colLeft.getBoundingClientRect().height;
        const rightHeight = colRight.getBoundingClientRect().height;
        if(leftHeight < rightHeight) {
          colLeft.style.minHeight = rightHeight + 'px';
        }
      } catch(e){}
    }, 60);

    // Clear loading text if not finished
    if(state.homeIndex >= max) {
      document.getElementById('homeLoading').textContent = '';
    }
  }

  /* ===========================
     ì¹´í…Œê³ ë¦¬ ë¡œë“œ (ìƒ˜í”Œ: DEMO_POSTS í•„í„°)
     - ì‹¤ì œë¡œëŠ” api(`posts?categories=${catId}`) ë“±ì„ í˜¸ì¶œ
  =========================== */
  function loadCategoryPage(slug) {
    const overlay = document.getElementById('categoryOverlay');
    overlay.dataset.slug = slug;
    overlay.classList.add('active');
    overlay.scrollTop = 0;
    document.getElementById('categoryOverlayTitle').textContent = slug.toUpperCase();
    document.getElementById('categoryOverlaySubtitle').textContent = `ì¹´í…Œê³ ë¦¬: ${slug}`;
    const grid = document.getElementById('categoryGrid');
    grid.innerHTML = '';
    const posts = DEMO_POSTS.filter(p => {
      const term = (p._embedded && p._embedded['wp:term'] && p._embedded['wp:term'][0] && p._embedded['wp:term'][0][0] && p._embedded['wp:term'][0][0].slug) ? p._embedded['wp:term'][0][0].slug : '';
      return term && term.includes(slug);
    });
    if(posts.length === 0) {
      grid.innerHTML = '<div style="color:#666;padding:14px">í•´ë‹¹ ì¹´í…Œê³ ë¦¬ì— ê²Œì‹œë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
    } else {
      posts.forEach(p => {
        const card = createCardNode(p);
        grid.appendChild(card);
        state.postsCache[p.id] = p;
      });
    }
    history.pushState({ page: 'category', slug }, '', `#category-${slug}`);
  }

  /* ===========================
     ì¹´ë“œ ë…¸ë“œ ìƒì„± (ì¹´í…Œê³ ë¦¬/ê²€ìƒ‰ ê²°ê³¼ ë“±)
  =========================== */
  function createCardNode(post) {
    const elTpl = document.getElementById('cardTpl');
    const node = elTpl.content.firstElementChild.cloneNode(true);
    const img = node.querySelector('img');
    const titleEl = node.querySelector('.title');
    const metaSub = node.querySelector('.meta-sub');
    let thumb = placeholderDataURI(400,240,'No Image');
    try {
      if(post._embedded && post._embedded['wp:featuredmedia'] && post._embedded['wp:featuredmedia'][0] && post._embedded['wp:featuredmedia'][0].source_url) thumb = post._embedded['wp:featuredmedia'][0].source_url;
    } catch(e){}
    img.src = thumb;
    titleEl.textContent = post.title && post.title.rendered ? stripHtml(post.title.rendered) : 'ì œëª© ì—†ìŒ';
    metaSub.textContent = formatDate(post.date);
    node.onclick = ()=> openPostOverlayById(post.id);
    return node;
  }

  /* ===========================
     í¬ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´: ID ë¡œ ë¡œë”© ë° ë Œë”
     - ê³µìœ  ë²„íŠ¼: navigator.share ì§€ì› ì‹œ ì‚¬ìš©, ì•„ë‹ˆë©´ í´ë¦½ë³´ë“œ ë³µì‚¬
     - ë‹«ê¸° ë²„íŠ¼ì´ ì •ìƒ ì‘ë™í•˜ë„ë¡ history ì²˜ë¦¬
  =========================== */
  function openPostOverlayById(id) {
    if(!id) return;
    const cached = state.postsCache[id];
    if(cached && cached.content && cached.content.rendered) { renderPostOverlay(cached); return; }

    // ìƒ˜í”Œ ë°ì´í„°ì—ì„œëŠ” DEMO_POSTSì—ì„œ ê²€ìƒ‰
    const post = DEMO_POSTS.find(p=>p.id === id);
    if(!post) {
      alert('ê²Œì‹œë¬¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      return;
    }
    state.postsCache[post.id] = post;
    renderPostOverlay(post);
  }

  function renderPostOverlay(post) {
    const overlay = document.getElementById('postOverlay');
    const article = document.getElementById('postArticle');
    const title = post.title && post.title.rendered ? post.title.rendered : 'ì œëª© ì—†ìŒ';
    const author = (post._embedded && post._embedded.author && post._embedded.author[0] && post._embedded.author[0].name) ? post._embedded.author[0].name : 'ìµëª…';
    const avatar = (post._embedded && post._embedded.author && post._embedded.author[0] && post._embedded.author[0].avatar_urls) ? (post._embedded.author[0].avatar_urls['48'] || post._embedded.author[0].avatar_urls['24']) : '';
    const categories = (post._embedded && post._embedded['wp:term'] && post._embedded['wp:term'][0]) ? post._embedded['wp:term'][0].map(t=>t.name).join(', ') : '-';
    const dateStr = formatDate(post.date);
    const contentHTML = post.content && post.content.rendered ? post.content.rendered : (post.excerpt && post.excerpt.rendered ? post.excerpt.rendered : '');

    article.innerHTML = `
      <h1>${title}</h1>
      <div style="display:flex;align-items:center;gap:12px;margin-bottom:12px">
        <img src="${avatar || placeholderDataURI(48,48,'U')}" alt="author" style="width:52px;height:52px;border-radius:50%;object-fit:cover;">
        <div>
          <div style="font-weight:800;color:#111">${author}</div>
          <div style="color:#666;font-size:13px">${dateStr} Â· ${categories}</div>
        </div>
      </div>
      <div class="post-content">${contentHTML}</div>
      <div style="margin-top:18px;color:#888;font-size:13px">ì›ë¬¸ ë§í¬: <a href="${post.link}" target="_blank" rel="noopener">${post.link}</a></div>
    `;

    // make images responsive in content
    article.querySelectorAll('.post-content img').forEach(img=>{
      img.style.maxWidth = '100%';
      img.style.height = 'auto';
      img.style.display = 'block';
      img.style.margin = '12px 0';
    });

    overlay.classList.add('active');
    overlay.scrollTop = 0;

    // update history hash to allow sharing
    history.pushState({ page: 'post', id: post.id }, '', `#post-${post.id}`);

    // share button handler
    const shareBtn = document.getElementById('sharePostBtn');
    shareBtn.onclick = ()=>{
      const shareUrl = location.origin + location.pathname + `#post-${post.id}`;
      const shareTitle = stripHtml(post.title && post.title.rendered ? post.title.rendered : 'IMPACT');
      if(navigator.share) {
        navigator.share({ title: shareTitle, url: shareUrl }).catch(()=> {
          copyToClipboard(shareUrl);
          alert('ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
        });
      } else {
        copyToClipboard(shareUrl);
        alert('ë§í¬ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤.');
      }
    };

    // open original
    document.getElementById('openOriginalBtn').onclick = ()=> {
      window.open(post.link, '_blank', 'noopener');
    };
  }

  /* ===========================
     ê²€ìƒ‰ (search overlay)
     - ê²€ìƒ‰ì–´ ì…ë ¥ í›„ ì—”í„° ë˜ëŠ” ë‹ë³´ê¸° ë²„íŠ¼ìœ¼ë¡œ ë™ì‘
     - ê²€ìƒ‰ ê²°ê³¼ í´ë¦­ ì‹œ í¬ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´ ì—´ë¦¼
  =========================== */
  function doSearch(q){
    // if q param not provided, fetch from input
    if(typeof q === 'undefined' || q === null) q = (document.getElementById('searchInputTop') && document.getElementById('searchInputTop').value) || (document.getElementById('globalNavSearch') && document.getElementById('globalNavSearch').value) || '';
    q = q.trim();
    if(!q) { alert('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”'); return; }

    // open search overlay
    const searchOverlay = document.getElementById('searchOverlay');
    if(!searchOverlay.classList.contains('active')) ui.openSearch();

    const results = DEMO_POSTS.filter(p => {
      const txt = (stripHtml(p.title.rendered) + ' ' + stripHtml(p.excerpt && p.excerpt.rendered ? p.excerpt.rendered : '') + ' ' + (p.content && p.content.rendered ? stripHtml(p.content.rendered) : '')).toLowerCase();
      return txt.includes(q.toLowerCase());
    });

    const grid = document.getElementById('searchResults');
    grid.innerHTML = '';
    if(results.length === 0) {
      grid.innerHTML = '<div style="padding:20px;color:#666">ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>';
      return;
    }
    results.forEach(r => {
      state.postsCache[r.id] = r;
      const card = createCardNode(r);
      grid.appendChild(card);
    });
  }

  /* ===========================
     EDITORS: ìˆ˜ì§‘ ë° ë Œë”ë§
     - postsCacheì— ìˆëŠ” ê¸€ì„ ê¸°ë°˜ìœ¼ë¡œ editors map êµ¬ì„±
  =========================== */
  function collectEditors(){
    const map = {};
    DEMO_POSTS.forEach(p=>{
      try {
        if(p._embedded && p._embedded.author && p._embedded.author[0]) {
          const a = p._embedded.author[0];
          const id = a.id || a.slug || a.name;
          if(!map[id]) map[id] = { id: a.id, name: a.name, avatar: (a.avatar_urls && (a.avatar_urls['48']||a.avatar_urls['24'])) ? (a.avatar_urls['48']||a.avatar_urls['24']) : placeholderDataURI(48,48,'U'), posts: [] };
          map[id].posts.push(p);
        }
      } catch(e){}
    });
    state.editors = map;
  }

  function renderEditorsList(){
    collectEditors();
    const grid = document.getElementById('editorsGrid');
    grid.innerHTML = '';
    Object.values(state.editors).forEach(ed => {
      const div = document.createElement('div');
      div.className = 'editor-card';
      div.innerHTML = `<img src="${ed.avatar}" alt="${ed.name}"><div class="editor-name">${ed.name}</div><div style="font-size:12px;color:#666;margin-top:8px">${ed.posts.length} posts</div>`;
      div.onclick = ()=> router.openEditorPage(ed.id);
      grid.appendChild(div);
    });
  }

  /* ===========================
     Editor page (individual) ë Œë”
     - overlayì—ì„œ í•´ë‹¹ ì—ë””í„°ê°€ ì‘ì„±í•œ ëª¨ë“  ê¸€ ë‚˜ì—´
  =========================== */
  function openEditorPage(editorId){
    const editors = state.editors || {};
    const ed = Object.values(editors).find(e => e.id === editorId);
    // if not found in state, try DEMO_EDITORS fallback
    if(!ed) {
      // build from DEMO_EDITORS
      const demo = DEMO_EDITORS.find(d => d.id === editorId);
      if(demo) {
        const posts = DEMO_POSTS.filter(p => (p._embedded && p._embedded.author && p._embedded.author[0] && p._embedded.author[0].id) === demo.id);
        const container = document.getElementById('editorPostsContainer');
        container.innerHTML = `<h3>${demo.name}</h3>`;
        if(posts.length === 0) container.innerHTML += '<div style="color:#666">ì‘ì„±ëœ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
        else {
          posts.forEach(p=>{
            const div = document.createElement('div');
            div.className = 'small-card';
            const thumb = (p._embedded && p._embedded['wp:featuredmedia'] && p._embedded['wp:featuredmedia'][0] && p._embedded['wp:featuredmedia'][0].source_url) ? p._embedded['wp:featuredmedia'][0].source_url : placeholderDataURI(1200,600,'No Image');
            div.innerHTML = `<img src="${thumb}" style="width:140px;height:84px;object-fit:cover;border-radius:8px;margin-right:12px;"><div style="display:inline-block;vertical-align:top"><h4 style="margin:0">${stripHtml(p.title.rendered)}</h4><div style="color:#666;font-size:12px">${formatDate(p.date)}</div></div>`;
            div.onclick = ()=> openPostOverlayById(p.id);
            container.appendChild(div);
          });
        }
        document.getElementById('editorsOverlay').classList.add('active');
        history.pushState({ page:'editor', id: editorId }, '', `#editor-${editorId}`);
        return;
      }
      alert('í•´ë‹¹ ì—ë””í„° ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      return;
    }

    const container = document.getElementById('editorPostsContainer');
    container.innerHTML = `<h3>${ed.name}</h3>`;
    if(!ed.posts || ed.posts.length === 0) container.innerHTML += '<div style="color:#666">ì‘ì„±ëœ ê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</div>';
    else {
      ed.posts.forEach(p=>{
        const div = document.createElement('div');
        div.className = 'search-result';
        div.innerText = stripHtml(p.title && p.title.rendered ? p.title.rendered : '');
        div.onclick = ()=> openPostOverlayById(p.id);
        container.appendChild(div);
      });
    }
    document.getElementById('editorsOverlay').classList.add('active');
    history.pushState({ page:'editor', id: editorId }, '', `#editor-${editorId}`);
  }

  /* ===========================
     UI & Router ê°ì²´
     - ui: toggleNav, openSearch, closeSearch, searchNow
     - router: goHome, openCategory, closeCategory, openPost, closePost, openAbout, closeAbout, openEditors, closeEditors, openEditorPage
  =========================== */
  const ui = {
    toggleNav() {
      const nav = document.getElementById('navOverlay');
      nav.classList.toggle('active');
      // update aria expanded attribute on header button
      const btn = document.querySelector('.header-actions button[aria-controls="navOverlay"]');
      if(btn) btn.setAttribute('aria-expanded', nav.classList.contains('active') ? 'true' : 'false');
    },
    openSearch() {
      const overlay = document.getElementById('searchOverlay');
      overlay.classList.add('active');
      const input = document.getElementById('searchInputTop');
      if(input) input.focus();
      history.pushState({ page: 'search' }, '', '#search');
      document.getElementById('navOverlay').classList.remove('active');
    },
    closeSearch() {
      document.getElementById('searchOverlay').classList.remove('active');
      if(location.hash === '#search') history.back();
    },
    searchNow() {
      const input = document.getElementById('searchInputTop') || document.getElementById('globalNavSearch');
      const q = input ? input.value.trim() : '';
      if(!q) { alert('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”'); return; }
      doSearch(q);
    }
  };

  const router = {
    goHome() {
      // close overlays and scroll home
      document.querySelectorAll('.overlay-full').forEach(el => el.classList.remove('active'));
      window.scrollTo({ top: 0, behavior: 'smooth' });
      history.pushState({ page: 'home' }, '', '/');
    },
    openCategory(slug) {
      loadCategoryPage(slug);
      document.getElementById('navOverlay').classList.remove('active');
    },
    closeCategory() {
      document.getElementById('categoryOverlay').classList.remove('active');
      if(location.hash && location.hash.startsWith('#category-')) history.back();
    },
    openPost(post) {
      if(post && post.id) {
        state.postsCache[post.id] = post;
        renderPostOverlay(post);
        document.getElementById('navOverlay').classList.remove('active');
      }
    },
    closePost() {
      document.getElementById('postOverlay').classList.remove('active');
      if(location.hash && location.hash.startsWith('#post-')) history.back();
    },
    openAbout() {
      document.getElementById('aboutPageSection').classList.add('active');
      history.pushState({ page: 'about' }, '', '#about');
      document.getElementById('navOverlay').classList.remove('active');
    },
    closeAbout() {
      document.getElementById('aboutPageSection').classList.remove('active');
      if(location.hash === '#about') history.back();
    },
    openEditors() {
      renderEditorsList();
      document.getElementById('editorsOverlay').classList.add('active');
      history.pushState({ page: 'editors' }, '', '#editors');
    },
    closeEditors() {
      document.getElementById('editorsOverlay').classList.remove('active');
      if(location.hash === '#editors') history.back();
    },
    openEditorPage(id) {
      openEditorPage(id);
    }
  };

  /* ===========================
     ì „ì—­ í—¬í¼ ë°”ì¸ë”©
  =========================== */
  window.openAbout = () => router.openAbout();
  window.openEditors = () => router.openEditors();
  window.openCategory = slug => router.openCategory(slug);
  window.openPost = id => openPostOverlayById(id);
  function openNavlessSearch(){ document.getElementById('navOverlay').classList.remove('active'); ui.openSearch(); }

  /* ===========================
     ì´ë²¤íŠ¸ ë°”ì¸ë”©
  =========================== */
  function bindEvents(){
    renderNavList();

    // nav close X
    const navClose = document.getElementById('navCloseBtn');
    if(navClose) navClose.addEventListener('click', ()=> { document.getElementById('navOverlay').classList.remove('active'); });

    // overlay close buttons
    const postCloseBtn = document.getElementById('postCloseBtn');
    if(postCloseBtn) postCloseBtn.addEventListener('click', ()=> { router.closePost(); });

    const categoryCloseBtn = document.getElementById('categoryCloseBtn');
    if(categoryCloseBtn) categoryCloseBtn.addEventListener('click', ()=> { router.closeCategory(); });

    const searchCloseBtn = document.getElementById('searchCloseBtn');
    if(searchCloseBtn) searchCloseBtn.addEventListener('click', ()=> { ui.closeSearch(); });

    const aboutCloseBtn = document.getElementById('aboutCloseBtn');
    if(aboutCloseBtn) aboutCloseBtn.addEventListener('click', ()=> { router.closeAbout(); });

    const editorsCloseBtn = document.getElementById('editorsCloseBtn');
    if(editorsCloseBtn) editorsCloseBtn.addEventListener('click', ()=> { router.closeEditors(); });

    // search enter key in top overlay and nav
    const topSearchInput = document.getElementById('searchInputTop');
    if(topSearchInput) topSearchInput.addEventListener('keydown', (e)=> { if(e.key==='Enter'){ e.preventDefault(); ui.searchNow(); } });

    const globalNavSearch = document.getElementById('globalNavSearch');
    if(globalNavSearch) globalNavSearch.addEventListener('keydown', (e)=> { if(e.key==='Enter'){ e.preventDefault(); const q = globalNavSearch.value.trim(); if(q) doSearch(q); document.getElementById('navOverlay').classList.remove('active'); } });

    // search btn
    const globalSearchBtn = document.getElementById('globalSearchBtn');
    if(globalSearchBtn) globalSearchBtn.addEventListener('click', (e)=> { e.preventDefault(); ui.searchNow(); });

    // to top
    const toTopBtn = document.getElementById('toTopBtn');
    if(toTopBtn) toTopBtn.addEventListener('click', ()=> window.scrollTo({ top:0, behavior:'smooth' }));

    // infinite scroll for home
    window.addEventListener('scroll', onScrollHandler, { passive:true });

    // keyboard ESC to close overlays
    window.addEventListener('keydown', (e)=> { if(e.key === 'Escape'){ document.getElementById('navOverlay').classList.remove('active'); document.querySelectorAll('.overlay-full').forEach(o=>o.classList.remove('active')); } });

    // hashchange routing (for sharing direct links)
    window.addEventListener('hashchange', routeFromHash, false);
  }

  /* ===========================
     ìŠ¤í¬ë¡¤ í•¸ë“¤ëŸ¬ (ë¬´í•œ ìŠ¤í¬ë¡¤)
  =========================== */
  function onScrollHandler(){
    const toTop = document.getElementById('toTopBtn');
    if(window.scrollY > 300) toTop.classList.add('show'); else toTop.classList.remove('show');

    // when near bottom, load next chunk
    if(window.innerHeight + window.scrollY >= document.body.offsetHeight - 1200) {
      renderHomeChunk();
    }
  }

  /* ===========================
     ë¼ìš°íŒ…: í•´ì‹œë¡œ ë“¤ì–´ì˜¬ ë•Œ ì ì ˆíˆ ì˜¤ë²„ë ˆì´ ì—°ë‹¤
  =========================== */
  function routeFromHash(){
    const h = location.hash || '';
    if(h.startsWith('#post-')) {
      const id = parseInt(h.replace('#post-',''));
      if(id) openPostOverlayById(id);
    } else if(h === '#about') {
      router.openAbout();
    } else if(h === '#editors') {
      router.openEditors();
    } else if(h.startsWith('#editor-')) {
      const eid = parseInt(h.replace('#editor-',''));
      if(eid) openEditorPage(eid);
    } else if(h.startsWith('#category-')) {
      const slug = h.replace('#category-','');
      router.openCategory(slug);
    } else if(h === '#search') {
      ui.openSearch();
    } else {
      // default: home
    }
  }

  /* ===========================
     ìœ í‹¸: í…ìŠ¤íŠ¸ í´ë¦½ë³´ë“œ ë³µì‚¬ (fallback)
  =========================== */
  function copyToClipboard(text){
    if(navigator.clipboard && navigator.clipboard.writeText) return navigator.clipboard.writeText(text);
    const ta = document.createElement('textarea');
    ta.value = text; document.body.appendChild(ta); ta.select();
    try { document.execCommand('copy'); } catch(e) {}
    document.body.removeChild(ta);
  }

  /* ===========================
     ìœ í‹¸: HTML ì œê±° (ê°„ë‹¨)
  =========================== */
  function stripHtml(html){
    const tmp = document.createElement('div');
    tmp.innerHTML = html || '';
    return tmp.textContent || tmp.innerText || '';
  }

  /* ===========================
     ì´ˆê¸°í™”
  =========================== */
  (function init(){
    // ì´ˆê¸° ë°ì´í„° ìºì‹œ
    DEMO_POSTS.forEach(p => state.postsCache[p.id] = p);
    // render initial nav & editors
    renderNavList();
    renderEditorsList();
    // render initial home chunks until we have 20 posts (or less if fewer)
    renderHomeChunk();
    // bind events
    bindEvents();
    // process hash route if any
    routeFromHash();
    // Replace initial history state for clean back behavior
    history.replaceState({ page:'home' }, '', '/');
  })();

  /* ===========================
     Netlify functions & WP proxy ì•ˆë‚´ (ë¬¸ì„œí™” ì£¼ì„)
     - ì‹¤ì œë¡œ WP APIë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ì•„ë˜ì²˜ëŸ¼ ì„œë²„ì‚¬ì´ë“œ í”„ë¡ì‹œë¥¼ êµ¬í˜„í•˜ì„¸ìš”.
     - ì´ HTMLì—ëŠ” í† í°ì´ í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
     *
     * ì˜ˆì‹œ (Netlify functions - wpProxy.js):
     * exports.handler = async function(event, context) {
     *   const WP_SITE = "impactceo0.wordpress.com";
     *   const ACCESS_TOKEN = process.env.WP_TOKEN;
     *   const path = event.queryStringParameters.path;
     *   if(!path) return { statusCode:400, body: JSON.stringify({ error: "Missing path" }) };
     *   const url = `https://public-api.wordpress.com/wp/v2/sites/${WP_SITE}/${path}`;
     *   try {
     *     const res = await fetch(url, { headers: { "Authorization": `Bearer ${ACCESS_TOKEN}` }});
     *     const data = await res.text();
     *     return { statusCode: res.status, headers: { "Content-Type": "application/json" }, body: data };
     *   } catch(err) { return { statusCode:500, body: JSON.stringify({ error: err.message }) }; }
     * };
     *
     * í´ë¼ì´ì–¸íŠ¸ì—ì„œ í˜¸ì¶œ ì˜ˆ:
     * fetch(`/.netlify/functions/wpProxy?path=${encodeURIComponent('posts?per_page=10&_embed')}`)
     * ======================================================================== */

  </script>

  <!-- ===========================
       ë (end of file)
     =========================== -->
</body>
</html>
