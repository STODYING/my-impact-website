<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>IMPACT â€” MAKE A IMPACT</title>
  <meta name="description" content="Innovation Management Passion Acceleration Creativity Technology">

  <link rel="icon" href="logo.png" type="image/png">
  
  <style>
  *, *::before, *::after { box-sizing: border-box; }
  html, body { height: 100%; }
  
  :root {
    --bg-primary: #f6f7f9;
    --bg-secondary: #fff;
    --text-primary: #111;
    --text-secondary: #666;
    --border-color: rgba(0,0,0,0.06);
    --accent-color: #2e8b57;
  }
  
  [data-theme="dark"] {
    --bg-primary: #1a1a1a;
    --bg-secondary: #2a2a2a;
    --text-primary: #eee;
    --text-secondary: #aaa;
    --border-color: rgba(255,255,255,0.1);
  }
  
  body {
    margin: 0;
    font-family: "Noto Sans KR", "Apple SD Gothic Neo", "Segoe UI", Roboto, Arial, sans-serif;
    background: var(--bg-primary);
    color: var(--text-primary);
    line-height: 1.6;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    scroll-behavior: smooth;
    overscroll-behavior-y: contain;
    -webkit-tap-highlight-color: transparent;
    transition: background 0.3s ease, color 0.3s ease;
  }
  
  a { color: inherit; text-decoration: none; }
  img { display: block; max-width: 100%; height: auto; }

  /* ì½ê¸° ì§„í–‰ í‘œì‹œë°” */
  .reading-progress {
    position: fixed;
    top: 0;
    left: 0;
    width: 0%;
    height: 3px;
    background: linear-gradient(90deg, #2e8b57, #1f7a6f);
    z-index: 9999;
    transition: width 0.1s ease;
  }

  .wrap { max-width: 1400px; margin: 0 auto; padding: 0 20px; }
  .hidden { display:none !important; }

  header.header {
    position: fixed;
    top: 3px;
    left: 0;
    right: 0;
    z-index: 1200;
    background: var(--bg-secondary);
    border-bottom: 1px solid var(--border-color);
    backdrop-filter: blur(6px);
    transition: transform 0.3s ease, opacity 0.3s ease;
  }
  
  header.header.hidden-header {
    transform: translateY(-100%);
    opacity: 0;
  }
  
  .header-inner {
    height: 72px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    max-width:1400px;
    margin:0 auto;
    padding: 0 20px;
  }
  
  .brand { display:flex; gap:12px; align-items:center; }
  .brand .logo {
    display:flex;
    gap:8px;
    align-items:center;
    font-weight:900;
    font-size:26px;
    letter-spacing:1px;
    color: var(--text-primary);
    cursor:pointer;
    transition: opacity 0.2s ease;
  }
  .brand .logo:hover { opacity: 0.7; }
  .brand .logo small { font-size:11px; color: var(--text-secondary); font-weight:800; display:block; line-height:1; }
  .header-actions { display:flex; gap:8px; align-items:center; }

  .btn {
    border-radius:10px;
    background: var(--bg-secondary);
    padding:8px 12px;
    border:1px solid var(--border-color);
    font-weight:700;
    font-size:14px;
    cursor:pointer;
    transition: all 0.3s ease;
    color: var(--text-primary);
  }
  .btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
  .btn:active { transform: translateY(0); }
  .btn.primary {
    background: linear-gradient(135deg,#2e8b57,#1f7a6f);
    color:#fff;
    border:none;
  }

  /* X ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
  .close-x {
    background: none;
    border: none;
    font-size: 28px;
    cursor: pointer;
    color: var(--text-primary);
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 8px;
    transition: all 0.3s ease;
    position: relative;
  }
  
  .close-x:hover {
    background: var(--border-color);
    transform: rotate(90deg);
  }
  
  .close-x::before,
  .close-x::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 2px;
    background: var(--text-primary);
    transition: background 0.3s ease;
  }
  
  .close-x::before { transform: rotate(45deg); }
  .close-x::after { transform: rotate(-45deg); }

  .nav-overlay {
    position: fixed;
    top: 0;
    right: -50%;
    width: 50%;
    height: 100vh;
    background: var(--bg-secondary);
    z-index: 2200;
    transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex;
    flex-direction: column;
    padding: 64px 40px;
    box-shadow: -6px 0 40px rgba(0,0,0,0.15);
    opacity: 0;
    visibility: hidden;
  }
  
  .nav-overlay.active { 
    right: 0; 
    opacity: 1;
    visibility: visible;
  }
  
  .nav-close {
    position:absolute; 
    top:20px; 
    right:20px;
  }
  
  .nav-list { list-style:none; padding:0; margin:24px 0; display:flex; flex-direction:column; gap:18px; }
  .nav-list li { 
    font-size:28px; 
    font-weight:900; 
    cursor:pointer; 
    color: var(--text-primary); 
    transition: all 0.3s ease;
    padding: 8px 0;
  }
  .nav-list li:hover { color:#2e8b57; transform: translateX(8px); }

  .nav-footer-links { margin-top:auto; display:flex; gap:12px; flex-wrap: wrap; align-items:center; font-weight:800; }
  .nav-footer-links a { color: var(--text-primary); font-size:13px; cursor:pointer; transition: color 0.3s ease; }
  .nav-footer-links a:hover { color: #2e8b57; }

  @media (max-width: 680px) {
    .nav-overlay { 
      left:0; 
      right:-100%; 
      width:100%; 
      padding:36px 20px; 
    }
    .nav-overlay.active { right:0; left:0; }
    .nav-list li { font-size:22px; }
  }

  .home {
    max-width:1400px;
    margin: 100px auto 28px;
    display:flex;
    flex-direction:column;
    gap:28px;
    padding: 0 20px 60px;
  }

  /* ìƒˆë¡œìš´ ê²Œì‹œë¬¼ ë ˆì´ì•„ì›ƒ */
  .post-row {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 20px;
    margin-bottom: 28px;
  }
  
  .post-large {
    grid-column: 1 / 2;
    grid-row: 1 / 3;
    position: relative;
    border-radius: 12px;
    overflow: hidden;
    min-height: 400px;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  
  .post-large:hover {
    transform: translateY(-6px);
    box-shadow: 0 12px 40px rgba(0,0,0,0.15);
  }
  
  .post-large img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .post-large .overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg, rgba(0,0,0,0), rgba(0,0,0,0.7));
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding: 24px;
    color: #fff;
  }
  
  .post-large h2 {
    font-size: 28px;
    font-weight: 900;
    margin: 0 0 12px;
    line-height: 1.2;
  }
  
  .post-small-grid {
    grid-column: 2 / 3;
    display: grid;
    grid-template-columns: 1fr;
    gap: 20px;
  }
  
  .post-small {
    background: var(--bg-secondary);
    border-radius: 12px;
    overflow: hidden;
    display: grid;
    grid-template-columns: 140px 1fr;
    gap: 12px;
    border: 1px solid var(--border-color);
    cursor: pointer;
    transition: all 0.3s ease;
  }
  
  .post-small:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 24px rgba(0,0,0,0.1);
  }
  
  .post-small img {
    width: 140px;
    height: 100%;
    object-fit: cover;
  }
  
  .post-small .content {
    padding: 12px 12px 12px 0;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }
  
  .post-small h3 {
    font-size: 16px;
    font-weight: 800;
    margin: 0 0 8px;
    line-height: 1.3;
    color: var(--text-primary);
  }
  
  .meta {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 13px;
    color: var(--text-secondary);
  }
  
  .meta img {
    width: 24px;
    height: 24px;
    border-radius: 50%;
  }

  /* í˜ì´ì§€ë„¤ì´ì…˜ */
  .pagination {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
    margin: 40px 0;
    padding: 20px 0;
  }
  
  .pagination button {
    min-width: 36px;
    height: 36px;
    border: 1px solid var(--border-color);
    background: var(--bg-secondary);
    color: var(--text-primary);
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
  }
  
  .pagination button:hover:not(.active):not(:disabled) {
    background: var(--accent-color);
    color: white;
    border-color: var(--accent-color);
  }
  
  .pagination button.active {
    background: var(--accent-color);
    color: white;
    border-color: var(--accent-color);
  }
  
  .pagination button:disabled {
    opacity: 0.3;
    cursor: not-allowed;
  }
  
  .pagination .ellipsis {
    padding: 0 8px;
    color: var(--text-secondary);
  }

  @media (max-width: 1100px) {
    .post-row {
      grid-template-columns: 1fr;
    }
    
    .post-large {
      grid-column: 1;
      grid-row: auto;
    }
    
    .post-small-grid {
      grid-column: 1;
      display: grid;
      gap: 12px;
    }
  }

  /* ì˜¤ë²„ë ˆì´ í˜ì´ì§€ë“¤ */
  .category-overlay, .post-overlay, .search-overlay, .about-page, .editors-overlay, .newsletter-page {
    display:none;
    position:fixed;
    inset:0;
    background: var(--bg-primary);
    z-index:1800;
    overflow:auto;
    padding:100px 28px 28px;
    animation: overlayIn .4s cubic-bezier(0.4, 0, 0.2, 1);
  }
  
  .post-overlay { z-index:1900; }
  
  .category-overlay.active, .post-overlay.active, .search-overlay.active, 
  .about-page.active, .editors-overlay.active, .newsletter-page.active { 
    display:block; 
  }
  
  @keyframes overlayIn { 
    from { opacity:0; transform: translateY(20px); } 
    to { opacity:1; transform: translateY(0); } 
  }

  /* ê²Œì‹œë¬¼ ìƒì„¸ í˜ì´ì§€ ë ˆì´ì•„ì›ƒ */
  .post-article {
    margin: 0 auto;
    max-width: 900px;
  }
  
  .post-header {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 24px;
    margin-bottom: 32px;
    align-items: center;
  }
  
  .post-header .thumbnail {
    width: 100%;
    border-radius: 12px;
    overflow: hidden;
  }
  
  .post-header .thumbnail img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }
  
  .post-header .post-info h1 {
    font-size: 32px;
    font-weight: 900;
    margin: 0 0 16px;
    line-height: 1.2;
  }
  
  .post-header .post-meta {
    display: flex;
    flex-direction: column;
    gap: 12px;
  }
  
  .post-author {
    display: flex;
    align-items: center;
    gap: 12px;
  }
  
  .post-author img {
    width: 48px;
    height: 48px;
    border-radius: 50%;
  }
  
  .post-content {
    color: var(--text-primary);
    line-height: 1.9;
    font-size: 16px;
  }
  
  .post-content img {
    max-width: 100%;
    border-radius: 8px;
    margin: 24px 0;
  }
  
  @media (max-width: 768px) {
    .post-header {
      grid-template-columns: 1fr;
    }
  }

  /* í‘¸í„° */
  footer.site-footer { 
    background: var(--text-primary); 
    color: var(--bg-primary); 
    padding: 40px 20px 20px; 
    margin-top: 40px; 
  }
  
  .footer-inner { 
    max-width: 1400px; 
    margin: 0 auto; 
    display: flex; 
    justify-content: space-between; 
    gap: 20px; 
    align-items: flex-start; 
    flex-wrap: wrap; 
  }
  
  .footer-brand { 
    font-size: 40px; 
    font-weight: 900; 
    font-style: italic; 
  }
  
  .footer-links a { 
    display: block; 
    font-weight: 800; 
    margin-bottom: 8px; 
    opacity: 0.8;
    transition: opacity 0.3s ease;
  }
  
  .footer-links a:hover {
    opacity: 1;
  }
  
  .theme-toggle {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid rgba(255,255,255,0.2);
  }
  
  .theme-toggle button {
    background: rgba(255,255,255,0.1);
    border: 1px solid rgba(255,255,255,0.2);
    color: inherit;
    padding: 8px 16px;
    border-radius: 20px;
    cursor: pointer;
    font-weight: 600;
    font-size: 13px;
    transition: all 0.3s ease;
  }
  
  .theme-toggle button:hover {
    background: rgba(255,255,255,0.2);
  }

  .to-top {
    position: fixed; 
    right: 22px; 
    bottom: 22px; 
    width: 52px; 
    height: 52px; 
    border-radius: 12px; 
    background: var(--bg-secondary); 
    color: var(--text-primary);
    display: flex; 
    align-items: center; 
    justify-content: center; 
    font-size: 22px; 
    z-index: 2500; 
    box-shadow: 0 12px 30px rgba(0,0,0,0.15); 
    opacity: 0; 
    transform: translateY(20px); 
    transition: all 0.3s ease;
    border: 1px solid var(--border-color);
    cursor: pointer;
  }
  
  .to-top.show { 
    opacity: 1; 
    transform: translateY(0); 
  }
  
  .to-top:hover {
    transform: translateY(-4px);
    box-shadow: 0 16px 40px rgba(0,0,0,0.2);
  }

  .cat-badge { 
    display: inline-block; 
    padding: 6px 10px; 
    border-radius: 6px; 
    font-weight: 800; 
    font-size: 12px; 
    color: #fff; 
    margin-right: 6px;
    margin-bottom: 6px;
  }

  .cat-tech { background: #1e90ff; }
  .cat-eat { background: #ff6347; }
  .cat-style { background: #32cd32; }
  .cat-culture { background: #8a2be2; }
  .cat-life { background: #ffa500; color: #000; }
  .cat-editors-pick { background: #ff1493; }

  /* ë‰´ìŠ¤ë ˆí„° í˜ì´ì§€ */
  .newsletter-container {
    max-width: 600px;
    margin: 0 auto;
    padding: 40px 20px;
  }
  
  .newsletter-container h1 {
    font-size: 36px;
    font-weight: 900;
    margin-bottom: 16px;
    text-align: center;
  }
  
  .newsletter-container p {
    text-align: center;
    color: var(--text-secondary);
    margin-bottom: 32px;
  }
  
  .newsletter-form {
    display: flex;
    flex-direction: column;
    gap: 16px;
  }
  
  .newsletter-form input {
    padding: 16px;
    border: 2px solid var(--border-color);
    border-radius: 8px;
    font-size: 16px;
    background: var(--bg-secondary);
    color: var(--text-primary);
    transition: border-color 0.3s ease;
  }
  
  .newsletter-form input:focus {
    outline: none;
    border-color: var(--accent-color);
  }
  
  .newsletter-form button {
    padding: 16px;
    background: linear-gradient(135deg, #2e8b57, #1f7a6f);
    color: white;
    border: none;
    border-radius: 8px;
    font-size: 16px;
    font-weight: 700;
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  
  .newsletter-form button:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(46, 139, 87, 0.3);
  }
  
  .terms-link {
    text-align: center;
    font-size: 13px;
    color: var(--text-secondary);
    margin-top: 16px;
  }
  
  .terms-link a {
    color: var(--accent-color);
    text-decoration: underline;
    cursor: pointer;
  }
  
  .terms-overlay {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.8);
    z-index: 3000;
    padding: 40px;
    overflow: auto;
  }
  
  .terms-overlay.active {
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .terms-content {
    background: var(--bg-secondary);
    padding: 40px;
    border-radius: 12px;
    max-width: 800px;
    max-height: 80vh;
    overflow: auto;
    position: relative;
  }
  
  .terms-content h2 {
    margin-top: 0;
  }
  
  .search-bar {
    display: flex;
    align-items: center;
    background: var(--bg-secondary);
    border-radius: 50px;
    box-shadow: 0 6px 20px rgba(0,0,0,0.1);
    padding: 6px 10px;
    gap: 8px;
    border: 2px solid var(--border-color);
    transition: border-color 0.3s ease;
  }
  
  .search-bar:focus-within {
    border-color: var(--accent-color);
  }
  
  .search-bar input[type="search"] {
    flex: 1;
    border: none;
    outline: none;
    font-size: 16px;
    padding: 12px 14px;
    background: transparent;
    color: var(--text-primary);
  }
  </style>
</head>
<body>
  <!-- ì½ê¸° ì§„í–‰ í‘œì‹œë°” -->
  <div class="reading-progress" id="readingProgress"></div>

  <header class="header" id="siteHeader">
    <div class="header-inner wrap">
      <div class="brand">
        <div class="logo" id="logoBtn" onclick="scrollToTop()">
          <div>
            <div style="line-height:1">IMPACT</div>
            <small>MAKE A IMPACT</small>
          </div>
        </div>
      </div>

      <div class="header-actions">
        <button class="btn" id="topSearchBtn" onclick="openSearch()">ê²€ìƒ‰</button>
        <button class="btn" onclick="toggleNav()">ë©”ë‰´</button>
      </div>
    </div>
  </header>

  <aside class="nav-overlay" id="navOverlay">
    <button class="close-x nav-close" onclick="toggleNav()"></button>
    <ul class="nav-list" id="navList"></ul>
    <div class="nav-footer-links">
      <a href="javascript:void(0)" onclick="toggleNav(); openAbout()">ABOUT</a>
      <a href="javascript:void(0)" onclick="toggleNav(); openEditors()">EDITORS</a>
      <a href="javascript:void(0)" onclick="toggleNav(); openNewsletter()">NEWSLETTER</a>
      <a href="https://www.instagram.com/ceo_impact_official" target="_blank">INSTAGRAM</a>
    </div>
  </aside>

  <main class="home" id="home">
    <div id="postsContainer"></div>
    <div class="pagination" id="pagination"></div>
  </main>

  <!-- ë‰´ìŠ¤ë ˆí„° í˜ì´ì§€ -->
  <section class="newsletter-page" id="newsletterPage">
    <div class="wrap">
      <div style="display:flex;justify-content:flex-end;margin-bottom:20px">
        <button class="close-x" onclick="closeNewsletter()"></button>
      </div>
      <div class="newsletter-container">
        <h1>IMPACT ë‰´ìŠ¤ë ˆí„°</h1>
        <p>ìµœì‹  ì½˜í…ì¸ ì™€ ì¸ì‚¬ì´íŠ¸ë¥¼ ì´ë©”ì¼ë¡œ ë°›ì•„ë³´ì„¸ìš”</p>
        <form class="newsletter-form" onsubmit="subscribeNewsletter(event)">
          <input type="email" placeholder="ì´ë©”ì¼ ì£¼ì†Œ" required>
          <input type="text" placeholder="ì´ë¦„" required>
          <button type="submit">êµ¬ë…í•˜ê¸°</button>
        </form>
        <div class="terms-link">
          <a onclick="openTerms()">ì´ìš© ì•½ê´€ ë° ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨ ë³´ê¸°</a>
        </div>
      </div>
    </div>
  </section>

  <!-- ì´ìš©ì•½ê´€ ì˜¤ë²„ë ˆì´ -->
  <div class="terms-overlay" id="termsOverlay">
    <div class="terms-content">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
        <h2>ì´ìš© ì•½ê´€ ë° ê°œì¸ì •ë³´ì²˜ë¦¬ë°©ì¹¨</h2>
        <button class="close-x" onclick="closeTerms()"></button>
      </div>
      <p><strong>ì œ1ì¡° (ëª©ì )</strong></p>
      <p>ë³¸ ì•½ê´€ì€ IMPACTê°€ ì œê³µí•˜ëŠ” ë‰´ìŠ¤ë ˆí„° ì„œë¹„ìŠ¤ì˜ ì´ìš©ê³¼ ê´€ë ¨í•˜ì—¬ íšŒì‚¬ì™€ ì´ìš©ìì˜ ê¶Œë¦¬, ì˜ë¬´ ë° ì±…ì„ì‚¬í•­ì„ ê·œì •í•¨ì„ ëª©ì ìœ¼ë¡œ í•©ë‹ˆë‹¤.</p>
      
      <p><strong>ì œ2ì¡° (ê°œì¸ì •ë³´ì˜ ìˆ˜ì§‘ ë° ì´ìš©)</strong></p>
      <p>1. ìˆ˜ì§‘í•˜ëŠ” ê°œì¸ì •ë³´ í•­ëª©: ì´ë©”ì¼ ì£¼ì†Œ, ì´ë¦„<br>
      2. ê°œì¸ì •ë³´ì˜ ìˆ˜ì§‘ ë° ì´ìš© ëª©ì : ë‰´ìŠ¤ë ˆí„° ë°œì†¡<br>
      3. ê°œì¸ì •ë³´ì˜ ë³´ìœ  ë° ì´ìš© ê¸°ê°„: êµ¬ë… ì·¨ì†Œ ì‹œê¹Œì§€</p>
      
      <p><strong>ì œ3ì¡° (êµ¬ë… ì·¨ì†Œ)</strong></p>
      <p>ì´ìš©ìëŠ” ì–¸ì œë“ ì§€ ë‰´ìŠ¤ë ˆí„° êµ¬ë…ì„ ì·¨ì†Œí•  ìˆ˜ ìˆìœ¼ë©°, ë‰´ìŠ¤ë ˆí„° í•˜ë‹¨ì˜ 'êµ¬ë… ì·¨ì†Œ' ë§í¬ë¥¼ í†µí•´ ê°€ëŠ¥í•©ë‹ˆë‹¤.</p>
    </div>
  </div>

  <!-- ABOUT í˜ì´ì§€ -->
  <section class="about-page" id="aboutPage">
    <div class="wrap">
      <div style="display:flex;justify-content:flex-end;margin-bottom:20px">
        <button class="close-x" onclick="closeAbout()"></button>
      </div>
      <div style="max-width:800px;margin:0 auto">
        <h1 style="font-size:48px;margin-bottom:20px">ABOUT IMPACT</h1>
        <div style="font-size:18px;line-height:1.8;color:var(--text-secondary)">
          <p><strong>IMPACT</strong>ëŠ” ç¾ & å‰ KAIST IP-CEO í•™ìƒë“¤ê³¼ POSTECH CEO í•™ìƒë“¤ì´ í•¨ê»˜ ì‘ì„±í•˜ëŠ” ì‹¬ì¸µ ì½˜í…ì¸  í”Œë«í¼ì…ë‹ˆë‹¤.</p>
          <p>Innovation, Management, Passion, Acceleration, Creativity, Technology - ìš°ë¦¬ëŠ” ì´ ì—¬ì„¯ ê°€ì§€ ê°€ì¹˜ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì„¸ìƒì„ ë°”ë¼ë³´ê³  ë¶„ì„í•©ë‹ˆë‹¤.</p>
          <p>í•™ìƒ ì €ìë“¤ì˜ ê²½í—˜ê³¼ ë¶„ì„ì„ ë°”íƒ•ìœ¼ë¡œ ê¸°ìˆ Â·ê²½ì˜Â·ì°½ì˜ì„±ì„ ê²°í•©í•œ ê¸€ì„ ì œê³µí•©ë‹ˆë‹¤. í˜„ì¥ì˜ ì‚¬ë¡€, ë°ì´í„° ì¸í…”ë¦¬ì „ìŠ¤, ê¹Šì´ ìˆëŠ” ë¶„ì„ì„ í†µí•´ ë…ìì—ê²Œ í†µì°°ì„ ì „ë‹¬í•©ë‹ˆë‹¤.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- ê²Œì‹œë¬¼ ìƒì„¸ í˜ì´ì§€ -->
  <article class="post-overlay" id="postOverlay">
    <div style="width:100%;max-width:1200px;margin:0 auto;">
      <div style="display:flex;justify-content:flex-end;margin-bottom:20px">
        <button class="close-x" onclick="closePost()"></button>
      </div>
      <div class="post-article" id="postArticle"></div>
    </div>
  </article>

  <!-- ê²€ìƒ‰ ì˜¤ë²„ë ˆì´ -->
  <section class="search-overlay" id="searchOverlay">
    <div class="wrap" style="max-width:1100px;margin:0 auto;">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:12px;margin-bottom:20px">
        <div style="flex:1">
          <div class="search-bar">
            <input type="search" id="searchInput" placeholder="ê²€ìƒ‰ì–´ ì…ë ¥ (Enterë¡œ ê²€ìƒ‰)">
            <button class="close-x" onclick="closeSearch()"></button>
          </div>
        </div>
      </div>
      <div id="searchResults"></div>
    </div>
  </section>

  <!-- ì¹´í…Œê³ ë¦¬ ì˜¤ë²„ë ˆì´ -->
  <section class="category-overlay" id="categoryOverlay">
    <div class="wrap">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
        <div>
          <h1 id="categoryTitle" style="font-size:32px;margin:0"></h1>
        </div>
        <button class="close-x" onclick="closeCategory()"></button>
      </div>
      <div id="categoryGrid"></div>
      <div class="pagination" id="categoryPagination"></div>
    </div>
  </section>

  <!-- ì—ë””í„° ì˜¤ë²„ë ˆì´ -->
  <section class="editors-overlay" id="editorsOverlay">
    <div class="wrap">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px">
        <h1 style="font-size:32px;margin:0">EDITORS</h1>
        <button class="close-x" onclick="closeEditors()"></button>
      </div>
      <div id="editorsGrid"></div>
    </div>
  </section>

  <button class="to-top" id="toTopBtn" onclick="scrollToTop()">â†‘</button>

  <footer class="site-footer">
    <div class="wrap footer-inner">
      <div>
        <div class="footer-brand">IMPACT</div>
        <div style="margin-top:10px;opacity:0.8;font-size:13px">
          ê´‘ê³  ì œíœ´ ë¬¸ì˜ | <a href="mailto:ceo.impact.official@gmail.com">ceo.impact.official@gmail.com</a>
        </div>
      </div>

      <div class="footer-links">
        <a href="javascript:void(0)" onclick="openAbout()">ABOUT</a>
        <a href="javascript:void(0)" onclick="openEditors()">EDITORS</a>
        <a href="javascript:void(0)" onclick="openNewsletter()">NEWSLETTER</a>
        <a href="https://www.instagram.com/ceo_impact_official" target="_blank">INSTAGRAM</a>
      </div>

      <div>
        <div style="font-weight:800;margin-bottom:8px">IMPACT CEO. ALL RIGHTS RESERVED.</div>
        <div class="theme-toggle">
          <button onclick="toggleTheme()">ğŸŒ“ í…Œë§ˆ ì „í™˜</button>
        </div>
      </div>
    </div>
  </footer>

<script>
// ìƒíƒœ ê´€ë¦¬
const state = {
  currentPage: 1,
  totalPages: 1,
  postsPerPage: 5,
  allPosts: [],
  categories: {
    "tech": 318,
    "eat": 123073,
    "style": 2286,
    "culture": 1098,
    "life": 124,
    "editors-pick": 259543
  },
  categoryNames: ["TECH", "EAT", "STYLE", "CULTURE", "LIFE", "EDITORS' PICK"],
  theme: localStorage.getItem('theme') || 'light'
};

// í…Œë§ˆ ì´ˆê¸°í™”
document.documentElement.setAttribute('data-theme', state.theme);

// API í˜¸ì¶œ í•¨ìˆ˜
function api(path) {
  const p = path.includes('_embed') ? path : (path + (path.includes('?') ? '&' : '?') + '_embed');
  return `/.netlify/functions/wpProxy?path=${encodeURIComponent(p)}`;
}

// ë‚ ì§œ í¬ë§·
function formatDate(dstr) {
  try {
    const d = new Date(dstr);
    return `${d.getFullYear()}. ${String(d.getMonth()+1).padStart(2,'0')}. ${String(d.getDate()).padStart(2,'0')}.`;
  } catch(e) { 
    return ''; 
  }
}

// í”Œë ˆì´ìŠ¤í™€ë” ì´ë¯¸ì§€
function placeholderDataURI(w=600, h=400, txt='No Image') {
  const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='${w}' height='${h}'><rect width='100%' height='100%' fill='#efefef'/><text x='50%' y='50%' fill='#aaa' font-size='20' text-anchor='middle' dominant-baseline='middle'>${txt}</text></svg>`;
  return 'data:image/svg+xml;charset=UTF-8,' + encodeURIComponent(svg);
}

// ì¹´í…Œê³ ë¦¬ í´ë˜ìŠ¤
function pickCategoryClass(nameOrSlug) {
  if(!nameOrSlug) return '';
  const s = String(nameOrSlug).toLowerCase();
  if(s.includes('tech')) return 'cat-tech';
  if(s.includes('eat')) return 'cat-eat';
  if(s.includes('style')) return 'cat-style';
  if(s.includes('culture')) return 'cat-culture';
  if(s.includes('life')) return 'cat-life';
  if(s.includes('editor')) return 'cat-editors-pick';
  return '';
}

// ë„¤ë¹„ê²Œì´ì…˜ ë¦¬ìŠ¤íŠ¸ ë Œë”ë§
function renderNavList() {
  const navList = document.getElementById('navList');
  navList.innerHTML = '';
  state.categoryNames.forEach(item => {
    const li = document.createElement('li');
    li.textContent = item;
    li.onclick = () => {
      toggleNav();
      const slug = item.toLowerCase().replace(/'/g,'').replace(/\s/g,'-');
      openCategory(slug);
    };
    navList.appendChild(li);
  });
}

// í¬ìŠ¤íŠ¸ ë¡œë“œ
async function loadPosts() {
  try {
    const res = await fetch(api('posts?per_page=100'));
    if(!res.ok) throw new Error(`ì„œë²„ ì‘ë‹µ ì˜¤ë¥˜: ${res.status}`);
    const posts = await res.json();
    state.allPosts = Array.isArray(posts) ? posts : [];
    state.totalPages = Math.ceil(state.allPosts.length / state.postsPerPage);
    renderPosts();
  } catch(e) {
    document.getElementById('postsContainer').innerHTML = `
      <div style="text-align:center;padding:60px 20px;color:var(--text-secondary)">
        <div style="font-size:48px;margin-bottom:16px">ğŸ“­</div>
        <h2 style="margin:0 0 8px;color:var(--text-primary)">ê²Œì‹œë¬¼ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤</h2>
        <p style="margin:0;font-size:14px">ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•˜ê±°ë‚˜ ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</p>
      </div>
    `;
  }
}

// í¬ìŠ¤íŠ¸ ë Œë”ë§
function renderPosts() {
  const container = document.getElementById('postsContainer');
  container.innerHTML = '';
  
  const start = (state.currentPage - 1) * state.postsPerPage;
  const end = start + state.postsPerPage;
  const pagePosts = state.allPosts.slice(start, end);
  
  pagePosts.forEach((post, index) => {
    if(index === 0) {
      // í° ê²Œì‹œë¬¼
      const largePost = createLargePost(post);
      container.appendChild(largePost);
    } else {
      // ì‘ì€ ê²Œì‹œë¬¼ë“¤ì„ 2x2 ê·¸ë¦¬ë“œë¡œ
      if(index === 1) {
        const row = document.createElement('div');
        row.className = 'post-row';
        
        const smallGrid = document.createElement('div');
        smallGrid.className = 'post-small-grid';
        smallGrid.style.gridColumn = '1 / 3';
        smallGrid.style.gridTemplateColumns = 'repeat(2, 1fr)';
        
        for(let i = 1; i < 5 && start + i < state.allPosts.length; i++) {
          const smallPost = createSmallPost(state.allPosts[start + i]);
          smallGrid.appendChild(smallPost);
        }
        
        row.appendChild(smallGrid);
        container.appendChild(row);
      }
    }
  });
  
  renderPagination();
}

// í° ê²Œì‹œë¬¼ ìƒì„±
function createLargePost(post) {
  const div = document.createElement('div');
  div.className = 'post-large';
  div.onclick = () => openPost(post.id);
  
  const imgUrl = post._embedded?.['wp:featuredmedia']?.[0]?.source_url || placeholderDataURI(1200, 800);
  const title = post.title?.rendered || 'ì œëª© ì—†ìŒ';
  const author = post._embedded?.author?.[0]?.name || 'ìµëª…';
  const date = formatDate(post.date);
  
  const categories = post._embedded?.['wp:term']?.[0] || [];
  let catBadges = '';
  categories.forEach(cat => {
    const cls = pickCategoryClass(cat.slug);
    catBadges += `<span class="cat-badge ${cls}">${cat.name}</span>`;
  });
  
  div.innerHTML = `
    <img src="${imgUrl}" alt="${title}">
    <div class="overlay">
      <div>${catBadges}</div>
      <h2>${title}</h2>
      <div class="meta">
        <span>${author}</span>
        <span>Â·</span>
        <span>${date}</span>
      </div>
    </div>
  `;
  
  return div;
}

// ì‘ì€ ê²Œì‹œë¬¼ ìƒì„±
function createSmallPost(post) {
  const div = document.createElement('div');
  div.className = 'post-small';
  div.onclick = () => openPost(post.id);
  
  const imgUrl = post._embedded?.['wp:featuredmedia']?.[0]?.source_url || placeholderDataURI(400, 300);
  const title = post.title?.rendered || 'ì œëª© ì—†ìŒ';
  const author = post._embedded?.author?.[0]?.name || 'ìµëª…';
  const date = formatDate(post.date);
  const avatarUrl = post._embedded?.author?.[0]?.avatar_urls?.['48'] || placeholderDataURI(48, 48, 'U');
  
  div.innerHTML = `
    <img src="${imgUrl}" alt="${title}">
    <div class="content">
      <h3>${title}</h3>
      <div class="meta">
        <img src="${avatarUrl}" alt="${author}">
        <div>
          <div style="font-weight:700">${author}</div>
          <div style="font-size:11px">${date}</div>
        </div>
      </div>
    </div>
  `;
  
  return div;
}

// í˜ì´ì§€ë„¤ì´ì…˜ ë Œë”ë§
function renderPagination() {
  const pagination = document.getElementById('pagination');
  pagination.innerHTML = '';
  
  // ì´ì „ ë²„íŠ¼
  const prevBtn = document.createElement('button');
  prevBtn.textContent = 'â€¹';
  prevBtn.disabled = state.currentPage === 1;
  prevBtn.onclick = () => goToPage(state.currentPage - 1);
  pagination.appendChild(prevBtn);
  
  // í˜ì´ì§€ ë²ˆí˜¸ë“¤
  const maxVisible = 7;
  let start = Math.max(1, state.currentPage - Math.floor(maxVisible / 2));
  let end = Math.min(state.totalPages, start + maxVisible - 1);
  
  if(end - start < maxVisible - 1) {
    start = Math.max(1, end - maxVisible + 1);
  }
  
  if(start > 1) {
    const btn = document.createElement('button');
    btn.textContent = '1';
    btn.onclick = () => goToPage(1);
    pagination.appendChild(btn);
    
    if(start > 2) {
      const ellipsis = document.createElement('span');
      ellipsis.className = 'ellipsis';
      ellipsis.textContent = 'â€¢â€¢â€¢';
      pagination.appendChild(ellipsis);
    }
  }
  
  for(let i = start; i <= end; i++) {
    const btn = document.createElement('button');
    btn.textContent = i;
    if(i === state.currentPage) btn.className = 'active';
    btn.onclick = () => goToPage(i);
    pagination.appendChild(btn);
  }
  
  if(end < state.totalPages) {
    if(end < state.totalPages - 1) {
      const ellipsis = document.createElement('span');
      ellipsis.className = 'ellipsis';
      ellipsis.textContent = 'â€¢â€¢â€¢';
      pagination.appendChild(ellipsis);
    }
    
    const btn = document.createElement('button');
    btn.textContent = state.totalPages;
    btn.onclick = () => goToPage(state.totalPages);
    pagination.appendChild(btn);
  }
  
  // ë‹¤ìŒ ë²„íŠ¼
  const nextBtn = document.createElement('button');
  nextBtn.textContent = 'â€º';
  nextBtn.disabled = state.currentPage === state.totalPages;
  nextBtn.onclick = () => goToPage(state.currentPage + 1);
  pagination.appendChild(nextBtn);
}

// í˜ì´ì§€ ì´ë™
function goToPage(page) {
  if(page < 1 || page > state.totalPages) return;
  state.currentPage = page;
  renderPosts();
  scrollToTop();
}

// ê²Œì‹œë¬¼ ì—´ê¸°
async function openPost(id) {
  try {
    const res = await fetch(api(`posts/${id}`));
    if(!res.ok) throw new Error(`ê²Œì‹œë¬¼ ë¡œë“œ ì‹¤íŒ¨: ${res.status}`);
    const post = await res.json();
    renderPostDetail(post);
    
    document.getElementById('postOverlay').classList.add('active');
    document.body.style.overflow = 'hidden';
  } catch(e) {
    alert('âš ï¸ ê²Œì‹œë¬¼ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\në„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
  }
}

// ê²Œì‹œë¬¼ ìƒì„¸ ë Œë”ë§
function renderPostDetail(post) {
  const article = document.getElementById('postArticle');
  
  const imgUrl = post._embedded?.['wp:featuredmedia']?.[0]?.source_url || '';
  const title = post.title?.rendered || 'ì œëª© ì—†ìŒ';
  const author = post._embedded?.author?.[0]?.name || 'ìµëª…';
  const avatarUrl = post._embedded?.author?.[0]?.avatar_urls?.['96'] || placeholderDataURI(96, 96, 'U');
  const date = formatDate(post.date);
  const categories = post._embedded?.['wp:term']?.[0]?.map(t => t.name).join(', ') || '-';
  const content = post.content?.rendered || '';
  
  article.innerHTML = `
    <div class="post-header">
      <div class="thumbnail">
        ${imgUrl ? `<img src="${imgUrl}" alt="${title}">` : ''}
      </div>
      <div class="post-info">
        <h1>${title}</h1>
        <div class="post-meta">
          <div class="post-author">
            <img src="${avatarUrl}" alt="${author}">
            <div>
              <div style="font-weight:800;font-size:16px">${author}</div>
              <div style="font-size:13px;color:var(--text-secondary)">${date}</div>
            </div>
          </div>
          <div style="font-size:14px;color:var(--text-secondary)">
            ì¹´í…Œê³ ë¦¬: ${categories}
          </div>
        </div>
      </div>
    </div>
    <div class="post-content">${content}</div>
  `;
}

// ì½ê¸° ì§„í–‰ í‘œì‹œë°” ì—…ë°ì´íŠ¸
function updateReadingProgress() {
  const postOverlay = document.getElementById('postOverlay');
  if(!postOverlay.classList.contains('active')) {
    document.getElementById('readingProgress').style.width = '0%';
    return;
  }
  
  const scrollTop = postOverlay.scrollTop;
  const scrollHeight = postOverlay.scrollHeight - postOverlay.clientHeight;
  const progress = (scrollTop / scrollHeight) * 100;
  
  document.getElementById('readingProgress').style.width = Math.min(progress, 100) + '%';
}

// ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸
let lastScrollTop = 0;
let ticking = false;

window.addEventListener('scroll', () => {
  if(!ticking) {
    window.requestAnimationFrame(() => {
      handleScroll();
      ticking = false;
    });
    ticking = true;
  }
});

function handleScroll() {
  const st = window.pageYOffset || document.documentElement.scrollTop;
  const header = document.getElementById('siteHeader');
  const toTop = document.getElementById('toTopBtn');
  
  // í—¤ë” í‘œì‹œ/ìˆ¨ê¹€
  if(st > lastScrollTop && st > 100) {
    header.classList.add('hidden-header');
  } else {
    header.classList.remove('hidden-header');
  }
  
  lastScrollTop = st <= 0 ? 0 : st;
  
  // ë§¨ ìœ„ë¡œ ë²„íŠ¼
  if(st > 200) {
    toTop.classList.add('show');
  } else {
    toTop.classList.remove('show');
  }
}

// í¬ìŠ¤íŠ¸ ì˜¤ë²„ë ˆì´ ìŠ¤í¬ë¡¤ ì´ë²¤íŠ¸
document.getElementById('postOverlay').addEventListener('scroll', updateReadingProgress);

// UI í•¨ìˆ˜ë“¤
function toggleNav() {
  const nav = document.getElementById('navOverlay');
  nav.classList.toggle('active');
  document.body.style.overflow = nav.classList.contains('active') ? 'hidden' : '';
}

function scrollToTop() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function closePost() {
  document.getElementById('postOverlay').classList.remove('active');
  document.body.style.overflow = '';
  document.getElementById('readingProgress').style.width = '0%';
}

function openSearch() {
  document.getElementById('searchOverlay').classList.add('active');
  document.getElementById('searchInput').focus();
}

function closeSearch() {
  document.getElementById('searchOverlay').classList.remove('active');
}

function openCategory(slug) {
  document.getElementById('categoryOverlay').classList.add('active');
  document.getElementById('categoryTitle').textContent = slug.toUpperCase();
  // ì¹´í…Œê³ ë¦¬ ë°ì´í„° ë¡œë“œ ë¡œì§ ì¶”ê°€ í•„ìš”
}

function closeCategory() {
  document.getElementById('categoryOverlay').classList.remove('active');
}

function openEditors() {
  document.getElementById('editorsOverlay').classList.add('active');
  // ì—ë””í„° ë°ì´í„° ë¡œë“œ ë¡œì§ ì¶”ê°€ í•„ìš”
}

function closeEditors() {
  document.getElementById('editorsOverlay').classList.remove('active');
}

function openAbout() {
  document.getElementById('aboutPage').classList.add('active');
}

function closeAbout() {
  document.getElementById('aboutPage').classList.remove('active');
}

function openNewsletter() {
  document.getElementById('newsletterPage').classList.add('active');
}

function closeNewsletter() {
  document.getElementById('newsletterPage').classList.remove('active');
}

function openTerms() {
  document.getElementById('termsOverlay').classList.add('active');
}

function closeTerms() {
  document.getElementById('termsOverlay').classList.remove('active');
}

function toggleTheme() {
  state.theme = state.theme === 'light' ? 'dark' : 'light';
  document.documentElement.setAttribute('data-theme', state.theme);
  localStorage.setItem('theme', state.theme);
}

function subscribeNewsletter(e) {
  e.preventDefault();
  const email = e.target.querySelector('input[type="email"]').value;
  const name = e.target.querySelector('input[type="text"]').value;
  
  // ì‹¤ì œë¡œëŠ” ì„œë²„ë¡œ ë°ì´í„° ì „ì†¡
  alert(`âœ… ë‰´ìŠ¤ë ˆí„° êµ¬ë… ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤!\n\nì´ë©”ì¼: ${email}\nì´ë¦„: ${name}\n\nê³§ ì²« ë²ˆì§¸ ì†Œì‹ì„ ë°›ì•„ë³´ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.`);
  e.target.reset();
  closeNewsletter();
}

// ê²€ìƒ‰ ê¸°ëŠ¥
document.getElementById('searchInput').addEventListener('keydown', async (e) => {
  if(e.key === 'Enter') {
    const query = e.target.value.trim();
    if(!query) {
      alert('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
      return;
    }
    
    const resultsDiv = document.getElementById('searchResults');
    resultsDiv.innerHTML = '<p style="text-align:center;padding:40px;color:var(--text-secondary)">ê²€ìƒ‰ ì¤‘...</p>';
    
    try {
      const res = await fetch(api(`posts?search=${encodeURIComponent(query)}&per_page=20`));
      if(!res.ok) throw new Error('ê²€ìƒ‰ ì‹¤íŒ¨');
      
      const posts = await res.json();
      
      if(!Array.isArray(posts) || posts.length === 0) {
        resultsDiv.innerHTML = `
          <div style="text-align:center;padding:60px 20px;color:var(--text-secondary)">
            <div style="font-size:48px;margin-bottom:16px">ğŸ”</div>
            <h2 style="margin:0 0 8px;color:var(--text-primary)">"${query}"ì— ëŒ€í•œ ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</h2>
            <p style="margin:0;font-size:14px">ë‹¤ë¥¸ ê²€ìƒ‰ì–´ë¡œ ì‹œë„í•´ë³´ì„¸ìš”.</p>
          </div>
        `;
        return;
      }
      
      resultsDiv.innerHTML = '';
      resultsDiv.style.display = 'grid';
      resultsDiv.style.gap = '20px';
      resultsDiv.style.gridTemplateColumns = 'repeat(auto-fill, minmax(280px, 1fr))';
      resultsDiv.style.marginTop = '20px';
      
      posts.forEach(post => {
        const card = createSmallPost(post);
        resultsDiv.appendChild(card);
      });
      
    } catch(error) {
      resultsDiv.innerHTML = `
        <div style="text-align:center;padding:60px 20px;color:var(--text-secondary)">
          <div style="font-size:48px;margin-bottom:16px">âš ï¸</div>
          <h2 style="margin:0 0 8px;color:var(--text-primary)">ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤</h2>
          <p style="margin:0;font-size:14px">ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.</p>
        </div>
      `;
    }
  }
});

// ì´ˆê¸°í™”
document.addEventListener('DOMContentLoaded', () => {
  renderNavList();
  loadPosts();
});
</script>
</body>
</html>
